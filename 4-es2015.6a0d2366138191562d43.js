(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+Ip7":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("/caa"),l=n("QSHt"),r=n("9zi2");n("qO5a");class s extends i.a{constructor(t,e,n){super(t),this.factoryResolver=t,this._cacessoService=e,this._formsService=n,this.visible=!1,this.dataModel=new l.a,this.webUrl=""}set pessoa_cartao_id(t){this.logTitle="Log - Pessoa Cart\xe3o",this._pessoa_cartao_id=t,this._pessoa_cartao_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get pessoa_cartao_id(){return this._pessoa_cartao_id}getColumns(){return[r.a.numberColumn("log_id",!1,"Log ID"),r.a.numberColumn("pessoa_cartao_id",!1,"Pessoa Cart\xe3o ID"),r.a.datetimeColumn("date_insert",!0,"Inserido em",120),r.a.textColumn("user_insert",!0,"Usu\xe1rio",150),r.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),r.a.textColumn("evento_abreviatura",!0,"Evento"),r.a.numberColumn("evento_id",!1,"Evento ID"),r.a.textColumn("origem",!1)]}getDataSource(){return this._cacessoService.getLogPessoaCartao({pessoa_cartao_id:this.pessoa_cartao_id})}insLog(t){this._cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: PESSOA CARTAO, ID: "+this.pessoa_cartao_id+"): "+t.data.descricao,origem:"PESSOA CARTAO",id:this.pessoa_cartao_id,evento_id:null,macro:"CACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},"+U75":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("YVxZ"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){t(e,5,0,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,"Excluir","fas fa-trash-alt"),t(e,20,0,1==e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,0==e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},"/7Ta":function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("WimB"),f=n("ZoiP"),v=n("J6U6"),g=n("E8iS"),x=n("PofR"),b=n("6ywV"),C=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","60%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"60%","50%"),t(e,6,0,!0,n.context,!0)}),null)}function S(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-saida-manual-pev-form-component",[],null,null,null,O,C)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,l.a,f.a,v.a,s.a,g.a,x.a,b.a],null,null)],(function(t,e){t(e,1,0)}),null)}var D=a["\u0275ccf"]("app-saida-manual-pev-form-component",_.a,S,{context:"context"},{},[])},"/Jab":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=n("/caa"),r=n("QSHt");n("M7cE");class s extends l.a{constructor(t,e,n){super(t),this.factoryResolver=t,this.cacessoService=e,this._cartaoService=n,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set cartao_tipo_id(t){this.logTitle="Log - Tipo de Cart\xe3o",this._cartao_tipo_id=t,this._cartao_tipo_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get cartao_tipo_id(){return this._cartao_tipo_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("cartao_tipo_id",!1,"Cart\xe3o Tipo ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this._cartaoService.getCartaoTipoLog({fieldvalue:this.cartao_tipo_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Cart\xe3o Tipo, ID: "+this.cartao_tipo_id+"): "+t.data.descricao,origem:"Cart\xe3o Tipo",id:this.cartao_tipo_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},"/MbQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("TW85"),f=n("3cT2"),v=n("J6U6"),g=n("Yz5n"),x=n("J7rV"),b=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","auto"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"auto","50%"),t(e,6,0,!0,n.context,!0)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-grupo-acesso-form-component",[],null,null,null,C,b)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a,v.a,s.a,g.a,x.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-grupo-acesso-form-component",_.a,O,{context:"context"},{},[])},"/UQH":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("Q2YV"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,10,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Log de acesso"],["icon","fas fa-file-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Sa\xedda Manual"],["icon","fas fa-arrow-left"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.saidaManual(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,"Log de acesso","fas fa-file-alt"),t(e,10,0,!n.ACAO.CACESSO_SAIDA_PESSOA_PRESENTE,"Sa\xedda Manual","fas fa-arrow-left")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},"/yT/":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r"),r=n("d1tj"),s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](3,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](4,{"has-text-grey-dark":0,"is-success":1,"is-danger":2,"is-warning":3}),(t()(),a["\u0275eld"](5,0,null,null,0,"i",[["class","icon icon kmm-icon-fingerprint-solid fa-2x"],["title","Valida\xe7\xe3o BIO"]],null,null,null,null,null))],(function(t,e){var n=t(e,4,0," "==e.context.$implicit.data.bio_ok,"s"==e.context.$implicit.data.bio_ok,"n"==e.context.$implicit.data.bio_ok,"p"==e.context.$implicit.data.bio_ok);t(e,3,0,"tag is-full",n)}),null)}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"bio")}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,d,s)),a["\u0275did"](1,49152,null,0,r.a,[],null,null)],null,null)}var p=a["\u0275ccf"]("ng-component",r.a,u,{},{},[])},"03t6":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r"),r=n("HF+A"),s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](3,{"is-success":0}),(t()(),a["\u0275eld"](4,0,null,null,0,"i",[["class"," fas fa-2x fa-arrow-up has-text-danger"],["title","Status sem\xe1foro"]],null,null,null,null,null))],(function(t,e){var n=t(e,3,0,"1"==e.parent.context.$implicit.data.picto_verde);t(e,2,0,"tag is-full",n)}),null)}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](3,{"is-danger":0}),(t()(),a["\u0275eld"](4,0,null,null,0,"i",[["class"," far fa-2x fa-times-circle has-text-danger"],["title","Status sem\xe1foro"]],null,null,null,null,null))],(function(t,e){var n=t(e,3,0,"1"==e.parent.context.$implicit.data.picto_vermelho);t(e,2,0,"tag is-full",n)}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](3,16384,null,0,o.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),a["\u0275eld"](4,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(t()(),a["\u0275and"](16777216,null,null,1,null,d)),a["\u0275did"](6,16384,null,0,o.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,"1"==e.context.$implicit.data.picto_verde),t(e,6,0,"1"==e.context.$implicit.data.picto_vermelho)}),null)}function p(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,u)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"sinaleiro")}),null)}function m(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,p,s)),a["\u0275did"](1,114688,null,0,r.a,[],null,null)],(function(t,e){t(e,1,0)}),null)}var h=a["\u0275ccf"]("ng-component",r.a,m,{},{},[])},"0zQL":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("FmvR"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_EQUIPAMENTO,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_EQUIPAMENTO,"Excluir","fas fa-trash-alt"),t(e,20,0,!n.ACAO.CACESSO_STATUS_EQUIPAMENTO||1==e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,!n.ACAO.CACESSO_STATUS_EQUIPAMENTO||0==e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},"1Dyr":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("gemI"),f=n("J7rV"),v=n("J6U6"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-rota-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-rota-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_rota_id:"_rota_id",rota_id:"rota_id"},{close:"close"},[])},"1Ppo":function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("LFg9"),f=n("txcG"),v=n("6ywV"),g=n("E8iS"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","80%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"80%","50%"),t(e,6,0,!0,n.context,!0)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-equipamento-form-component",[],null,null,null,b,x)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-equipamento-form-component",_.a,C,{context:"context"},{},[])},"1Q0P":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("Q/DK"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,15,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_TIPO_CARTAO,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_TIPO_CARTAO,"Excluir","fas fa-trash-alt")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},"1lff":function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var a=n("D57K"),o=n("kZht"),i=n("An66"),l=n("bwdy"),r=n("w+uw"),s=n.n(r),c=n("o/uR"),d=n("ixXO"),u=n("jEDZ"),p=n("gVRo"),m=n("Ci6u"),h=n("RvQh"),_=n("vE43"),f=n("HPxX"),v=n("IvV6"),g=n("3DLZ"),x=n("x2wL"),b=n("Ft3k"),C=n("MgRz"),O=n("nhxO"),S=n("qHyl");let D=(()=>{class t extends S.a{constructor(t,e,n,a,i,r,s,d,h,_){super(n,c.a.PESSOA_CA_FORM),this._customComponentService=t,this._grupoService=e,this._injector=n,this._recintoService=a,this._cacessoService=i,this._pessoaService=r,this._popupService=s,this._route=d,this.toast=h,this._webcamService=_,this.itemsReady=new o.EventEmitter,this.saveFormAction=new o.EventEmitter,this.cartaoAction=new o.EventEmitter,this.bioAction=new o.EventEmitter,this.camAction=new o.EventEmitter,this.photoAction=new o.EventEmitter,this.dataModel=new m.a,this.editMode=!1,this.title="Pessoa",this.passThroughEvents=!1,this.gruposAcesso=[],this.tipoPessoaChanged=!1,this.gruposPessoa=[],this.getGrupoSubs=new l.a,this.saveBioSubs=new l.a,this.cartaoReadySubs=new l.a,this.onImgCapturedSubs=new l.a,this.savePhotoSubs=new l.a,this.imgDeletedSubs=new l.a,this.docsSubs=new l.a,this.selectCidade=t=>{t&&Object.assign(this.formComponent.dataModel,{cidade:new u.a({cidade_id:t.cidade_id,estado:new p.a({estado_id:t.estado_id,descricao:t.estado_descricao})}),estado:new p.a({estado_id:t.estado_id,descricao:t.estado_descricao,uf:t.sigla_uf}),pais_id:t.pais_id,pais:new f.a({pais_id:t.pais_id,descricao:t.pais_descricao})})},this.selectPaisCnh=t=>{t&&Object.assign(this.formComponent.dataModel,{cnh_pais_id:t.pais_id,cnh_orgao_emissor:t.descricao_portugues})},this.grupoAcesso=t=>{t&&("object"==typeof t.selectedItem?Object.assign(this.formComponent.dataModel,{grupo_acesso_id:t.selectedItem.grupo_acesso_id}):null===t.selectedItem&&Object.assign(this.formComponent.dataModel,{grupo_acesso_id:null}))},this.acessoTagChanged=t=>{t.value&&(t.value.map(t=>{this._grupoExists(t)||this.gruposAcesso.push({grupo_id:t,operation:"INSERT"})}),this.gruposAcesso=this.gruposAcesso.map(e=>(t.value.indexOf(e.grupo_id)<0&&Object.assign(e,{operation:"DELETE"}),e)),this.gruposAcesso=this.gruposAcesso.filter(t=>"DELETE"!==t.operation||"DELETE"===t.operation&&"grupo_id"in t))},this.items=[g.a.Template("validacaoTemplate",C.a,null,{dataModel:this})],this.validateCpf=this.validateCpf.bind(this)}ngAfterViewInit(){super.ngAfterViewInit(),this.getGrupoSubs=this._grupoService.getGrupo({ativo:!0},{resultset:!0}).subscribe(t=>{this.gruposPessoa=t}),this.saveBioSubs=this._customComponentService.customComponentContext[x.a.contextName].saveBioAction.subscribe(t=>{this.passThroughEvents?this.bioAction.emit(t):(Object.assign(this.formComponent.dataModel,{tem_bio:!0,biometria:{operation:"insert",template:t.bio.template}}),this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=this.formComponent.dataModel)}),this.onImgCapturedSubs=this._webcamService.onImgCaptured.subscribe(t=>{this.passThroughEvents?this.camAction.emit(t):(Object.assign(this.formComponent.dataModel,{tem_foto:!0,foto:{operation:"insert",base64:t.img}}),this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=this.formComponent.dataModel)}),this.savePhotoSubs=this._customComponentService.customComponentContext[b.a.contextName].savePhotoAction.subscribe(t=>{Object.assign(this.formComponent.dataModel,{foto:t.foto,tem_foto:!0}),this.passThroughEvents?this.photoAction.emit(this.formComponent.dataModel):(s()({message:"Imagem capturada com sucesso.",closeOnClick:!0},"success",5e3),Object.assign(this._customComponentService.customComponentContext.validacaoAcessoView.dataModel,t),Object.assign(this._customComponentService.customComponentContext.validacaoAcessoView,{bkg:`url('data:image/jpeg;base64,${t.foto.base64}')`}))}),this.imgDeletedSubs=this._customComponentService.customComponentContext[b.a.contextName].imgDeleted.subscribe(()=>{Object.assign(this.dataModel,{foto:{base64:"",operation:"DELETE"},tem_foto:!1}),delete this.dataModel.pessoa_foto})}ngOnDestroy(){super.ngOnDestroy(),this.getGrupoSubs.unsubscribe(),this.saveBioSubs.unsubscribe(),this.onImgCapturedSubs.unsubscribe(),this.savePhotoSubs.unsubscribe(),this.imgDeletedSubs.unsubscribe()}popupShow(t){const e=Object.assign({},t.params);e&&(this.tipoPessoa=e.tipo_pessoa_id,this.modulo=e.modulo,Object.assign(this.formComponent.dataModel,{tipo_pessoa_id:this.tipoPessoa}),Object.assign(this.formComponent.dataModel,{cadastro:1}),this.getTiposDocumento()),this.formComponent.editMode&&this._pessoaService.getPessoa({pessoa_id:e.pessoa_id,retornar_foto:!0,retornar_docs:!0},!0).subscribe(t=>{if("carga"!==this.modulo&&t.pessoa_grupo){this.gruposAcesso=t.pessoa_grupo;const e=t.pessoa_grupo.map(t=>t.grupo_id);this.formComponent.setFieldOption("grupo_acesso_pessoa",{value:e})}t=Object.assign(this.formComponent.dataModel,t),this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=t,Object.assign(this._customComponentService.customComponentContext.validacaoAcessoView,void 0!==t.foto?{bkg:`url('data:image/jpeg;base64,${t.foto.foto}')`}:{bkg:null})}),this.formComponent.setItems(this.formItemsFields())}getTiposDocumento(){switch(this.tipoPessoa){case 1:Object.assign(this.formComponent.dataModel,{documentos:[{tipo:"CPF"}]});break;case 2:Object.assign(this.formComponent.dataModel,{documentos:[{tipo:"PASSAPORTE"}]});break;case 3:Object.assign(this.formComponent.dataModel,{documentos:[{tipo:"CPF"},{tipo:"CNH"}]});break;case 4:Object.assign(this.formComponent.dataModel,{documentos:[{tipo:"CNH Estrangeiro"},{tipo:"PASSAPORTE"}]})}}popupHide(){this.passThroughEvents=!1,this._customComponentService.customComponentContext.validacaoAcessoView.initialize()}submitForm(){try{let t="";const e=O.a.clone(this.formComponent.dataModel);Object.assign(e,{pessoa_grupo:this.gruposAcesso}),e.cep&&Object.assign(e,{cep:e.cep.replace(/\D/g,"")}),this._formService.getEditMode(c.a.PESSOA_CA_FORM)?(t="UPDATE",Object.assign(e,{operation:t})):(t="INSERT",Object.assign(e,{operation:t,empresa:{pessoa_id:e.empresa_id}}),e.estado&&Object.assign(e,{uf:e.estado.uf}),e.pais&&Object.assign(e,{pais_id:e.pais.pais_id})),this.setDocumentos(t),this.saveFormAction.emit(e)}catch(t){console.error(t),this.toast.error(t.message,"Erro")}this.formComponent.formBusy=!1}setDocumentos(t){const e=this.formComponent.dataModel,n=this.formComponent.dataModel.documentos;switch(e.tipo_pessoa_id){case 1:n[0]&&Object.assign(n[0],{operation:"UPDATE"!==t?t:null,pessoa_documento_id:e.cpf_pessoa_documento_id,tipo_documento_id:1,documento:e.cpf_search,pais_id:30,data_validade:null,orgao_emissor:e.cpf_orgao_emissor});break;case 2:n[0]&&Object.assign(n[0],{operation:"UPDATE"!==t?t:null,pessoa_documento_id:e.passaporte_pessoa_documento_id,tipo_documento_id:3,orgao_emissor:e.passaporte_orgao_emissor,documento:e.passaporte,pais_id:e.passaporte_pais_id,data_validade:new i.DatePipe("en").transform(e.passaporte_data_validade,"dd/MM/yyyy")});break;case 3:n.forEach(n=>{1===n.tipo_id||"CPF"===n.tipo.toUpperCase()?Object.assign(n,{operation:t,pessoa_documento_id:e.cpf_pessoa_documento_id,tipo_documento_id:1,documento:e.cpf_search,orgao_emissor:e.passaporte_orgao_emissor,pais_id:30,data_validade:null}):2!==n.tipo_id&&"CNH"!==n.tipo.toUpperCase()||Object.assign(n,{operation:this.tipoPessoaChanged?"INSERT":t,pessoa_documento_id:e.cnh_pessoa_documento_id,tipo_documento_id:2,documento:e.cnh,pais_id:30,categoria:e.cnh_categoria,orgao_emissor:e.cnh_orgao_emissor,data_validade:new i.DatePipe("en").transform(e.cnh_data_validade,"dd/MM/yyyy")})});break;case 4:n[0]&&Object.assign(n[0],{operation:this.tipoPessoaChanged?"INSERT":t,pessoa_documento_id:e.cnh_estrangeiro_id,tipo_documento_id:6,documento:e.cnh_estrangeiro,pais_id:e.cnh_pais_id,orgao_emissor:e.cnh_orgao_emissor,data_validade:new i.DatePipe("en").transform(e.cnh_estrangeiro_validade,"dd/MM/yyyy")}),n[1]&&Object.assign(n[1],{operation:"UPDATE"!==t?t:null,pessoa_documento_id:e.passaporte_pessoa_documento_id,tipo_documento_id:3,documento:e.passaporte,pais_id:e.passaporte_pais_id,orgao_emissor:e.passaporte_orgao_emissor,data_validade:new i.DatePipe("en").transform(e.passaporte_data_validade,"dd/MM/yyyy")})}}selectPais(t){t&&Object.assign(this.formComponent.dataModel,{passaporte_pais_id:t.pais_id,passaporte_orgao_emissor:t.descricao_portugues})}validateCidade(t){return!!t.value&&!!t.rule.context.dataModel.cidade_id}validateCpf(t){const e=t.value.charAt(0);let n=0;for(let a=0;a<t.value.length;a++)e===t.value.charAt(a)&&n++;return n!==t.value.length&&(this._recintoService.validaCPF({cpf:t.value,outerParams:t}).subscribe(t=>(t.params.rule.isValid=1===t.result.validade,t.params.validator.validate(),1!==t.result.validade?(this.formComponent.dxForm.instance.getEditor("cpf_search").focus(),!1):(this.cpfSearch(),!0))),!1)}validateEmail(t){return!t.value||!!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t.value)}validateNameLength(t){return!(!t.value||t.value.length<5&&(t.rule.context.formComponent.dxForm.instance.getEditor("nome").focus(),1))}cpfSearch(){const t=this.formComponent.dataModel.cpf_search;t&&11===t.length&&this._pessoaService.getPessoa({tipo_documento_id:1,documento:t,retornar_foto:!0,retornar_docs:!0},!0).subscribe(e=>{e?(this.formComponent.editMode=!0,this.tipoPessoaChanged=!0,Object.assign(this.formComponent.dataModel,e,{tipo_pessoa_id:this.tipoPessoa}),Object.assign(this._customComponentService.customComponentContext.validacaoAcessoView,void 0!==e.foto?{bkg:`url('data:image/jpeg;base64,${e.foto.foto}')`}:{bkg:null}),this.getTiposDocumento(),this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=this.formComponent.dataModel):(this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=null,this.formComponent.editMode=!1,this.tipoPessoaChanged=!1,this._pessoaService.searchPessoaGestao({cnpj_cpf_cuit:t}).subscribe(t=>{this.getPessoaGestao(t)}))})}getPessoaGestao(t){if(t){const e=t.pessoa_foto;delete t.tipo_pessoa_id,delete t.pessoa_foto,delete t.pessoa_modalidade,this._recintoService.getCidade({nome:t.cidade_nome}).subscribe(n=>{this.selectCidade(n[0]),Object.assign(this.formComponent.dataModel,t,{data_nascimento:t.data_nascimento?new Date(t.data_nascimento):null,empresa_search:t.empresa,cidade_search:t.cidade_nome}),e.length>0?(Object.assign(this.formComponent.dataModel,{tem_foto:!0,foto:{base64:e[0].foto,foto:e[0].foto,operation:"INSERT"}}),Object.assign(this._customComponentService.customComponentContext.validacaoAcessoView,{bkg:`url('data:image/jpeg;base64,${e[0].foto}')`}),Object.assign(this._customComponentService.customComponentContext[b.a.contextName],{bkg:`url('data:image/jpeg;base64,${e[0].foto}')`,gestaoData:!0}),this._customComponentService.customComponentContext[b.a.contextName].dataModel=this.formComponent.dataModel):Object.assign(this._customComponentService.customComponentContext[b.a.contextName],{gestaoData:!1}),this._customComponentService.customComponentContext.validacaoAcessoView.dataModel=this.formComponent.dataModel})}}_grupoExists(t){return this.gruposAcesso.some(e=>e.grupo_id===t)}formItemsFields(){const t=[],e=g.a.Group("",[g.a.Template("validacaoTemplate",C.a,null,{dataModel:this})],6,6);return 1===this.tipoPessoa?(this.popup.title="Pessoa F\xedsica",t.push(g.a.Group("",[g.a.GroupNamed({caption:"Documentos",items:[g.a.TextBox({dataField:"cpf_search",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),mask:"000.000.000-00",disabled:this.formComponent.editMode}}),g.a.TextBox({dataField:"cpf_orgao_emissor",colSpan:4,editorOptions:{disabled:!0,value:"SRF",tabIndex:this.tabIndex()}}),g.a.EmptyBox(4)],colCount:12,colSpan:11}),e]))):2===this.tipoPessoa?(this.popup.title="Pessoa Estrangeira",t.push(g.a.Group("",[g.a.GroupNamed({caption:"Documentos",items:[g.a.TextBox({dataField:"passaporte",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),disabled:this.formComponent.editMode}}),g.a.DateBox({dataField:"passaporte_data_validade",colSpan:2,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),width:"100%"}}),g.a.Autocomplete2({dataField:"passaporte_pais_search",colSpan:3,editorOptions:{valueExpr:"descricao_portugues",showClearButton:!0,tabIndex:this.tabIndex()}},this,"pais_id","busca",f.a,"pais_id",new _.a({},this._recintoService,this._recintoService.getPais),this.selectPais),g.a.TextBox({dataField:"passaporte_orgao_emissor",colSpan:2,editorOptions:{disabled:!0,maxLength:50,tabIndex:this.tabIndex()}}),g.a.EmptyBox(2)],colCount:12,colSpan:11}),e]))):3===this.tipoPessoa?(this.popup.title="Motorista",t.push(g.a.Group("",[g.a.GroupNamed({caption:"Documentos",items:[g.a.TextBox({dataField:"cpf_search",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),mask:"000.000.000-00",disabled:this.formComponent.editMode}}),g.a.TextBox({dataField:"cpf_orgao_emissor",colSpan:4,editorOptions:{disabled:!0,value:"SRF",maxLenth:4,tabIndex:this.tabIndex()}}),g.a.EmptyBox(4),g.a.TextBox({dataField:"cnh",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.TextBox({dataField:"cnh_categoria",colSpan:2,editorOptions:{maxLength:2,tabIndex:this.tabIndex()}}),g.a.DateBox({dataField:"cnh_data_validade",colSpan:2,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),width:"100%"}}),g.a.TextBox({dataField:"cnh_orgao_emissor",colSpan:3,editorOptions:{disabled:!0,maxLength:100,tabIndex:this.tabIndex(),value:"DETRAN"}}),g.a.CheckBox({dataField:"mopp",colSpan:1,editorOptions:{text:"MOPP"}})],colCount:12,colSpan:11}),e]))):4===this.tipoPessoa&&(this.popup.title="Motorista Estrangeiro",t.push(g.a.Group("",[g.a.GroupNamed({caption:"Documentos",items:[g.a.TextBox({dataField:"passaporte",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex(),disabled:this.formComponent.editMode}}),g.a.DateBox({dataField:"passaporte_data_validade",colSpan:2,editorOptions:{maxLength:100,min:new Date,tabIndex:this.tabIndex(),width:"100%"}}),g.a.Autocomplete2({dataField:"passaporte_pais_search",colSpan:2,editorOptions:{valueExpr:"descricao_portugues",showClearButton:!0,tabIndex:this.tabIndex()}},this,"pais_id","busca",f.a,"pais_id",new _.a({},this._recintoService,this._recintoService.getPais),this.selectPais),g.a.TextBox({dataField:"passaporte_orgao_emissor",colSpan:3,editorOptions:{disabled:!0,maxLenght:100,tabIndex:this.tabIndex()}}),g.a.EmptyBox(1),g.a.TextBox({dataField:"cnh_estrangeiro",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.DateBox({dataField:"cnh_estrangeiro_validade",colSpan:2,editorOptions:{maxLength:100,min:new Date,tabIndex:this.tabIndex(),width:"100%"}}),g.a.Autocomplete2({dataField:"cnh_pais_search",colSpan:2,editorOptions:{valueExpr:"descricao_portugues",showClearButton:!0,tabIndex:this.tabIndex()}},this,"pais_id","busca",f.a,"pais_id",new _.a({},this._recintoService,this._recintoService.getPais),this.selectPaisCnh),g.a.TextBox({dataField:"cnh_orgao_emissor",colSpan:3,editorOptions:{disabled:!0,maxLenght:100,tabIndex:this.tabIndex()}})],colCount:12,colSpan:11}),e]))),"cacesso"!==this.modulo&&this.modulo?"carga"===this.modulo&&t.push(g.a.Group("Dados Pessoais",[g.a.TextBox({dataField:"nome",colSpan:6,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.DateBox({dataField:"data_nascimento",colSpan:2,editorOptions:{context:this,displayFormat:"dd/MM/yyyy",min:new Date("1900-01-01 00:00:00"),max:new Date,useMaskBehavior:!0,tabIndex:this.tabIndex()}}),g.a.EmptyBox(10)])):t.push(g.a.Group("Dados Pessoais",[g.a.TextBox({dataField:"nome",colSpan:6,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.DateBox({dataField:"data_nascimento",colSpan:2,editorOptions:{context:this,displayFormat:"dd/MM/yyyy",min:new Date("1900-01-01 00:00:00"),max:new Date,useMaskBehavior:!0,tabIndex:this.tabIndex()}}),g.a.EmptyBox(4),g.a.SelectBox({dataField:"autoridade",colSpan:4,editorOptions:{displayExpr:"descricao",valueExpr:"autoridade_id",dataSource:[{autoridade_id:0,descricao:"N\xe3o"},{autoridade_id:1,descricao:"Sim"}],elementAttr:{id:"autoridade-form-descricao"},tabIndex:this.tabIndex(),disabled:!0}}),g.a.EmptyBox(8),g.a.Autocomplete2({dataField:"empresa_search",colSpan:6,editorOptions:{valueExpr:"display_name",showClearButton:!0,tabIndex:this.tabIndex()}},this,"empresa_id","search",h.a,"pessoa_id",new _.a({params:{empresa:!0,ativo:!0}},this._recintoService,this._recintoService.getPessoa))])),t.push(g.a.Group("",[g.a.CheckBox({dataField:"ativo",label:{visible:!1},editorOptions:{text:"Ativo",disabled:!0}})])),"cacesso"!==this.modulo&&this.modulo||t.push(g.a.Group("Acesso",[g.a.TagBox({dataField:"grupo_acesso_pessoa",label:{text:"Grupos de acesso"},editorOptions:{dataSource:this.gruposPessoa,displayExpr:"descricao",valueExpr:"grupo_id",onValueChanged:this.acessoTagChanged,tabIndex:this.tabIndex()}})])),t.push(g.a.TabGroup([g.a.Tab("Endere\xe7o",[g.a.Group("",[g.a.TextBox({dataField:"cep",colSpan:2,editorOptions:{mask:1===this.tipoPessoa||3===this.tipoPessoa?"00000-000":null,maxLength:10,tabIndex:this.tabIndex(),maskInvalidMessage:"CEP informado incorretamente."}}),g.a.TextBox({dataField:"endereco",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.TextBox({dataField:"complemento",colSpan:4,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.EmptyBox(2),g.a.TextBox({dataField:"bairro",colSpan:3,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.Autocomplete2({dataField:"cidade_search",colSpan:3,editorOptions:{valueExpr:"nome",showClearButton:!0,tabIndex:this.tabIndex()}},this,"cidade_id","nome",u.a,"cidade_id",new _.a({},this._recintoService,this._recintoService.getCidade),this.selectCidade),g.a.TextBox({dataField:"cidade.estado.descricao",colSpan:3,editorOptions:{disabled:!0,maxLength:100,tabIndex:this.tabIndex()}}),g.a.TextBox({dataField:"pais.descricao",colSpan:3,editorOptions:{disabled:!0,value:1===this.tipoPessoa?"Brasil":"",tabIndex:this.tabIndex()}})])]),g.a.Tab("Contatos",[g.a.Group("",[g.a.TextBox({dataField:"tel_comercial",colSpan:4,editorOptions:{mask:2!==this.tipoPessoa&&4!==this.tipoPessoa?"(00) 0000-0000":"99999999999999999",maxLength:14,showMaskMode:"onFocus",useMaskedValue:!0,tabIndex:this.tabIndex(),maskInvalidMessage:"Telefone Comercial informado incorretamente."}}),g.a.TextBox({dataField:"tel_celular",colSpan:4,editorOptions:{mask:2!==this.tipoPessoa&&4!==this.tipoPessoa?"(00) 90000-0000":"99999999999999999",maxLength:14,tabIndex:this.tabIndex()}}),g.a.EmptyBox(4),g.a.TextBox({dataField:"email",colSpan:8,editorOptions:{maxLength:100,tabIndex:this.tabIndex()}}),g.a.EmptyBox(4)])])]),g.a.Group("",[g.a.TextArea({dataField:"observacao",editorOptions:{maxLength:300,tabIndex:this.tabIndex()}})])),t}}return a.__decorate([Object(v.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(v.e)("popup","hideAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupHide",null),a.__decorate([Object(v.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"submitForm",null),a.__decorate([Object(d.a)("cidade.nome","Cidade n\xe3o encontrada"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",Boolean)],t.prototype,"validateCidade",null),a.__decorate([Object(d.a)("cpf_search","CPF Inv\xe1lido"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"validateCpf",null),a.__decorate([Object(d.a)("email","E-mail Inv\xe1lido"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",Boolean)],t.prototype,"validateEmail",null),a.__decorate([Object(d.a)("nome","O nome precisa ter no m\xednimo 5 caracteres!"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"validateNameLength",null),t})()},"1rf6":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("b0gj"),f=n("J6U6"),v=n("Tqkf"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-localidade-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-localidade-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_localidade_id:"_localidade_id",localidade_id:"localidade_id"},{close:"close"},[])},"2U9Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("D57K"),o=n("kZht"),i=n("IvV6"),l=n("vE43"),r=n("o/uR"),s=n("3DLZ"),c=n("5ua/"),d=n("Ci6u");let u=(()=>{class t{constructor(t,e,n,a,i,u){this._formService=t,this._cacessoService=e,this._messageSerice=n,this._pessoaService=a,this._equipamentoService=i,this._pontoService=u,this.title="Entrada Manual",this.editMode=!1,this.dataModel=new c.a({}),this.saveActionEmitter=new o.EventEmitter,this.cancelActionEmitter=new o.EventEmitter,this.selectPonto=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&this._equipamentoService.getEquipamento({ativo:1,ponto_id:t.selectedItem.ponto_id},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("equipamento_id",{dataSource:t}),this.formComponent.setFieldOption("equipamento_id",{disabled:!1})})},this.items=[s.a.Group("Dados da entrada",[s.a.Autocomplete2({dataField:"pessoa_search",colSpan:12,editorOptions:{valueExpr:"display_name",showClearButton:!0,maxLength:100}},this,"pessoa_id","search",d.a,"pessoa_id",new l.a({params:{ativo:1}},this._pessoaService,this._pessoaService.getPessoaAutocomplete)),s.a.DateBox({dataField:"data_ocorrencia",colSpan:6,editorOptions:{width:"100%",type:"datetime",displayFormat:"dd/MM/yyyy HH:mm:ss",useMaskBehavior:!0}}),s.a.EmptyBox(6),s.a.SelectBox({dataField:"ponto_id",colSpan:6,editorOptions:{valueExpr:"ponto_id",displayExpr:"descricao",maxLength:50,onSelectionChanged:this.selectPonto},label:{text:"Ponto"}}),s.a.EmptyBox(6),s.a.SelectBox({dataField:"equipamento_id",colSpan:6,editorOptions:{valueExpr:"equipamento_id",disabled:!0,displayExpr:"descricao",maxLength:50}}),s.a.EmptyBox(6),s.a.TextArea({dataField:"observacao",colSpan:12,editorOptions:{maxLength:200}})])],this._formService.formContext[r.a.ENTRADA_MANUAL_PESSOA_FORM]=this,this.context=r.a.ENTRADA_MANUAL_PESSOA_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._maxDateInterval=setInterval(()=>{this.formComponent.setFieldOption("data_ocorrencia",{max:new Date})},3e4)}ngOnDestroy(){clearInterval(this._maxDateInterval)}popupShow(){this.formComponent.setFieldOption("data_ocorrencia",{max:new Date}),this._pontoService.getPonto({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("ponto_id",{dataSource:t})})}saveEntradaManualAction(t){Object.assign(this.formComponent.dataModel,{historico:"ACESSO/PASSAGEM - ENTRADA MANUAL",tipo_ocorrencia_id:3,data_ocorrencia:new Date(t.ev.data.data_ocorrencia),sentido:"ENTRADA"}),this.saveActionEmitter.emit()}cancelEntradaManualAction(t){this.cancelActionEmitter.emit()}}return a.__decorate([Object(i.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(i.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"saveEntradaManualAction",null),a.__decorate([Object(i.e)("formComponent","cancelAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cancelEntradaManualAction",null),t})()},"30gv":function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("1lff"),f=n("ZoiP"),v=n("Yz5n"),g=n("Er32"),x=n("J6U6"),b=n("zMsH"),C=n("zYXE"),O=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function S(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),a["\u0275qud"](402653184,3,{formItems:0}),(t()(),a["\u0275eld"](3,0,null,null,6,"app-popup-form",[["height","90%"],["width","80%"]],null,null,null,o.c,o.b)),a["\u0275did"](4,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,4,{formComponent:0}),(t()(),a["\u0275eld"](6,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](7,5488640,[[4,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,5,{formItems:1}),a["\u0275qud"](335544320,6,{formModel:0})],(function(t,e){var n=e.component;t(e,4,0,"90%","80%"),t(e,7,0,!0,n.context,!0)}),null)}function D(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pessoa-ca-form-component",[],null,null,null,S,O)),a["\u0275did"](1,5488640,null,0,_.a,[f.a,v.a,a.Injector,g.a,x.a,b.a,s.a,l.a,h.a,C.a],null,null)],(function(t,e){t(e,1,0)}),null)}var T=a["\u0275ccf"]("app-pessoa-ca-form-component",_.a,D,{context:"context"},{},[])},"3hCg":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("kZht");n("ZoiP");class o{constructor(t){this._customComponentService=t,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.localidadeView=this}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},"4ax2":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("COfM"),d=n("1ugp"),u=n("3cT2"),p=n("zhvJ"),m=n("gnDO"),h=n("J6U6"),_=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{grid:0}),(t()(),a["\u0275eld"](2,0,null,null,5,"app-popup-form",[["height","90%"],["width","90%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,2,"app-grid-component",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[2,4],["grid",4]],1,d.a,[a.ComponentFactoryResolver,u.a,p.a],{contextName:[0,"contextName"],popup:[1,"popup"]},null),a["\u0275qud"](603979776,4,{templateContent:1})],(function(t,e){var n=e.component;t(e,3,0,"90%","90%"),t(e,6,0,n.context,!0)}),null)}function v(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ocorrencia-equipamento-grid-component",[],null,null,null,f,_)),a["\u0275did"](1,49152,null,0,m.a,[h.a,u.a],null,null)],null,null)}var g=a["\u0275ccf"]("app-ocorrencia-equipamento-grid-component",m.a,v,{_pessoa_id:"_pessoa_id",customColumns:"customColumns",gridData:"gridData"},{},[])},"53as":function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return D}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("TGgt"),f=n("M7cE"),v=n("pIw2"),g=n("ZoiP"),x=n("PofR"),b=n("jMVt"),C=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),a["\u0275qud"](402653184,3,{formItems:0}),(t()(),a["\u0275eld"](3,0,null,null,6,"app-popup-form",[["height","auto"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](4,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,4,{formComponent:0}),(t()(),a["\u0275eld"](6,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](7,5488640,[[4,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,5,{formItems:1}),a["\u0275qud"](335544320,6,{formModel:0})],(function(t,e){var n=e.component;t(e,4,0,"auto","50%"),t(e,7,0,!0,n.context,!0)}),null)}function S(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-vinculo-cartao-form-component",[],null,null,null,O,C)),a["\u0275did"](1,5488640,null,0,_.a,[f.a,v.a,g.a,a.Injector,m.a,x.a,s.a,b.a],null,null)],(function(t,e){t(e,1,0)}),null)}var D=a["\u0275ccf"]("app-vinculo-cartao-form-component",_.a,S,{context:"context"},{},[])},"5I76":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("D57K"),o=n("kZht"),i=n("IvV6"),l=n("vE43"),r=n("o/uR"),s=n("3DLZ"),c=n("Ci6u"),d=n("zahA");let u=(()=>{class t{constructor(t,e,n,a,i,u,p,m){this._formService=t,this._route=e,this._customComponentService=n,this._cacessoService=a,this._pessoaService=i,this._popupService=u,this._pontoService=p,this._equipamentoService=m,this.title="Sa\xedda Manual",this.editMode=!1,this.dataModel=new d.a({}),this.saveActionEmitter=new o.EventEmitter,this.cancelActionEmitter=new o.EventEmitter,this.selectPonto=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&this._equipamentoService.getEquipamento({ativo:1,ponto_id:t.selectedItem.ponto_id},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("equipamento_id",{dataSource:t}),this.formComponent.setFieldOption("equipamento_id",{disabled:!1})})},this.items=[s.a.Group("Dados da sa\xedda",[s.a.Autocomplete2({dataField:"pessoa_search",colSpan:12,editorOptions:{valueExpr:"display_name",showClearButton:!0,maxLength:100}},this,"pessoa_id","search",c.a,"pessoa_id",new l.a({params:{ativo:1,presente:1}},this._pessoaService,this._pessoaService.getPessoaAutocomplete)),s.a.DateBox({dataField:"data_ocorrencia",colSpan:6,editorOptions:{type:"datetime",displayFormat:"dd/MM/yyyy HH:mm:ss",useMaskBehavior:!0,width:"100%",tabIndex:0}}),s.a.EmptyBox(6),s.a.SelectBox({dataField:"ponto_id",colSpan:6,editorOptions:{valueExpr:"ponto_id",displayExpr:"descricao",maxLength:50,onSelectionChanged:this.selectPonto}}),s.a.EmptyBox(6),s.a.SelectBox({dataField:"equipamento_id",colSpan:6,editorOptions:{valueExpr:"equipamento_id",disabled:!0,displayExpr:"descricao",maxLength:50}}),s.a.EmptyBox(6),s.a.TextArea({dataField:"observacao",colSpan:12,editorOptions:{maxLength:200}})])],this._formService.formContext[r.a.SAIDA_MANUAL_PESSOA_FORM]=this,this.context=r.a.SAIDA_MANUAL_PESSOA_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._maxDateInterval=setInterval(()=>{this.formComponent.setFieldOption("data_ocorrencia",{max:new Date})},3e4)}ngOnDestroy(){clearInterval(this._maxDateInterval)}popupShow(){this._pontoService.getPonto({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("ponto_id",{dataSource:t})})}start(t){const e=t.params;e&&e.pessoa_id&&(this.formComponent.setFieldOption("data_ocorrencia",{min:new Date(e.data_entrada),max:new Date}),this._pessoaService.getPessoa({pessoa_id:e.pessoa_id}).subscribe(t=>{const e=t.pessoa[0];Object.assign(this.formComponent.dataModel,{pessoa_id:e.pessoa_id}),this.formComponent.setFieldOption("pessoa_search",{value:e.display_name,disabled:!0})}))}saveSaidaManualAction(t){Object.assign(this.formComponent.dataModel,{historico:"ACESSO/PASSAGEM - SA\xcdDA MANUAL",tipo_ocorrencia_id:3,data_ocorrencia:new Date(t.ev.data.data_ocorrencia),sentido:"SAIDA"}),this.saveActionEmitter.emit()}cancelSaidaManualAction(t){this.cancelActionEmitter.emit()}}return a.__decorate([Object(i.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(i.e)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(i.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"saveSaidaManualAction",null),a.__decorate([Object(i.e)("formComponent","cancelAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cancelSaidaManualAction",null),t})()},"5tGY":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("kj7b"),o=n("w+uw"),i=n.n(o),l=(n("ZoiP"),n("0h//"),n("3DLZ")),r=(n("qO5a"),n("1L3/"),n("FIOi"),n("nHRm")),s=(n("J6U6"),n("o/uR"));n("Er32");class c extends r.a{constructor(t,e,n,o,r,c){super(),this._formService=t,this._route=e,this._customComponentService=n,this._cacessoService=o,this._popupService=r,this._recintoService=c,this.title="Bloquear Motorista e Ve\xedculo",this.editMode=!1,this.dataModel=new a.a({}),this.searchPessoa=t=>{void 0!==t.event&&"input"===t.event.type&&(null!==t.value&&""!==t.value?t.value.length>=t.component._options.minSearchLength?(this.formComponent.setFieldOption("pessoa_nome",{editorOptions:{value:t.value}}),this.formComponent.setFieldOption("pessoa_nome",{value:t.value}),this.formComponent.setFieldOption("pessoa_nome",{dataSource:[]}),this.limparCampo(),this._recintoService.getPessoaPorModal({modalidade_id:9,nome:t.value,ativo:1}).subscribe(t=>{t.length>0?this.formComponent.setFieldOption("pessoa_nome",{dataSource:t}):i()({message:"Pessoa n\xe3o encontrada",type:"error",displayTime:5e3,closeOnClick:!0})})):(this.formComponent.setFieldOption("pessoa_nome",{value:t.value}),this.formComponent.setFieldOption("pessoa_nome",{dataSource:[]}),this.limparCampo()):(this.formComponent.setFieldOption("pessoa_nome",{value:""}),this.formComponent.setFieldOption("pessoa_nome",{dataSource:[]}),this.limparCampo()))},this.selectPessoa=t=>{t&&("object"==typeof t.selectedItem?t.selectedItem&&Object.assign(this.formComponent.dataModel,{pessoa_id:t.selectedItem.pessoa_id}):this._formService.getEditMode(this.context)?null==t.selectedItem&&Object.assign(this.formComponent.dataModel,{pessoa_id:null}):Object.assign(this.formComponent.dataModel,{pessoa_id:null}))},this.items=[l.a.Group("Dados para o  bloqueio",[l.a.Autocomplete({dataField:"pessoa_nome",colSpan:4,editorOptions:{valueExpr:"nome",minSearchLength:5,onValueChanged:this.searchPessoa,onSelectionChanged:this.selectPessoa,showClearButton:!0}}),l.a.EmptyBox(8),l.a.TextBox({dataField:"placa_veiculo",colSpan:3,editorOptions:{mask:"LLL-CCCC",maxLength:10}}),l.a.EmptyBox(9),l.a.DateBox({dataField:"data_expiracao",colSpan:3,editorOptions:{type:"date",displayFormat:"dd/MM/yyyy",maxLength:10,min:new Date}}),l.a.EmptyBox(9),l.a.TextArea({dataField:"motivo",colSpan:10,editorOptions:{maxLength:100}})])],this._formService.formContext[s.a.BLOQUEIO_PV_FORM]=this,this.context=s.a.BLOQUEIO_PV_FORM}ngOnInit(){this.popup.title=this.title}limparCampo(){Object.assign(this.formComponent.dataModel,{pessoa_id:null})}}},"5ua/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("D57K"),o=n("b7PS"),i=n("nhxO"),l=n("ixXO");let r=(()=>{class t extends i.a{constructor(t={}){super(),Object.assign(this,t)}getList(e){const n=new Array;return e.forEach(e=>{n.push(new t(e))}),n}get observacao(){return this._observacao}get pessoa_search(){return this._pessoa_search}get pev_search(){return this._pev_search}get pessoa_id(){return this._pessoa_id}get cartao_id(){return this._cartao_id}get ponto_id(){return this._ponto_id}get equipamento_id(){return this._equipamento_id}get data_ocorrencia(){return this._data_ocorrencia}get placa_veiculo(){return this._placa_veiculo}get identificador(){return this._identificador}set observacao(t){this._observacao=t}set pessoa_search(t){this._pessoa_search=t}set pev_search(t){this._pev_search=t}set pessoa_id(t){this._pessoa_id=t}set cartao_id(t){this._cartao_id=t}set ponto_id(t){this._ponto_id=t}set equipamento_id(t){this._equipamento_id=t}set data_ocorrencia(t){this._data_ocorrencia=t}set placa_veiculo(t){this._placa_veiculo=t}set identificador(t){this._identificador=t}}return a.__decorate([Object(o.b)("Observa\xe7\xf5es"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"observacao",null),a.__decorate([Object(o.b)("Pessoa"),Object(l.c)(!0,"Pessoa \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_search",null),a.__decorate([Object(o.b)("PEV"),Object(l.c)(!0,"PEV \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pev_search",null),a.__decorate([Object(o.b)(""),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_id",null),a.__decorate([Object(o.b)("Cart\xe3o"),Object(l.c)(!0,"Cart\xe3o \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"cartao_id",null),a.__decorate([Object(o.b)("Ponto"),Object(l.c)(!0,"Ponto \xe9 obrigat\xf3rio"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"ponto_id",null),a.__decorate([Object(o.b)("Passagem de entrada"),Object(l.c)(!0,"Passagem de entrada \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"equipamento_id",null),a.__decorate([Object(o.b)("Data de entrada"),Object(l.c)(!0,"Data de entrada \xe9 obrigat\xf3ria."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"data_ocorrencia",null),a.__decorate([Object(o.b)("Placa"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"placa_veiculo",null),a.__decorate([Object(o.b)("Identifica\xe7\xe3o"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"identificador",null),t})()},"8PYk":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("eI0J"),f=n("J6U6"),v=n("E8iS"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-equipamento-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-equipamento-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_equipamento_id:"_equipamento_id",equipamento_id:"equipamento_id"},{close:"close"},[])},A3VU:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("epBo"),f=n("Yz5n"),v=n("qO5a"),g=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,x)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-grupo-log-grid-component",[],null,null,null,b,g)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-grupo-log-grid-component",_.a,C,{context:"context",visible:"visible",logTitle:"logTitle",_grupo_id:"_grupo_id",grupo_id:"grupo_id"},{close:"close"},[])},ARLo:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("D57K"),o=n("kZht"),i=n("vE43"),l=n("o/uR"),r=n("3DLZ"),s=n("IvV6"),c=n("5ua/"),d=n("SJGR");let u=(()=>{class t{constructor(t,e,n,a,s,u,p,m){this._formService=t,this._route=e,this._customComponentService=n,this._cacessoService=a,this._popupService=s,this._equipamentoService=u,this._pevService=p,this._pontoService=m,this.title="Entrada Manual",this.editMode=!1,this.dataModel=new c.a({}),this.saveActionEmitter=new o.EventEmitter,this.cancelActionEmitter=new o.EventEmitter,this.selectPonto=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&this._equipamentoService.getEquipamento({ativo:1,ponto_id:t.selectedItem.ponto_id},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("equipamento_id",{dataSource:t}),this.formComponent.setFieldOption("equipamento_id",{disabled:!1})})},this.selectionPEV=t=>{this.formComponent.setFieldOption("prestador_servico",t?{value:t.prestador_servico.cnpj_cpf_cuit+" - "+t.prestador_servico.nome}:{value:" "})},this.items=[r.a.Group("Dados da entrada",[r.a.Autocomplete2({dataField:"pev_search",colSpan:12,editorOptions:{valueExpr:"display_name",showClearButton:!0,maxLength:100}},this,"pev_id","search",d.a,"pev_id",new i.a({params:{ativo:1}},this._pevService,this._pevService.getPEVAutocomplete),this.selectionPEV),r.a.TextBox({dataField:"prestador_servico",colSpan:6,label:{text:"Prestador de Servi\xe7o"},editorOptions:{maxLength:50,disabled:!0}}),r.a.EmptyBox(6),r.a.DateBox({dataField:"data_ocorrencia",colSpan:6,editorOptions:{type:"datetime",displayFormat:"dd/MM/yyyy HH:mm:ss",width:"100%"}}),r.a.EmptyBox(6),r.a.SelectBox({dataField:"ponto_id",colSpan:6,editorOptions:{valueExpr:"ponto_id",displayExpr:"descricao",maxLength:50,onSelectionChanged:this.selectPonto}}),r.a.EmptyBox(6),r.a.SelectBox({dataField:"equipamento_id",colSpan:6,editorOptions:{valueExpr:"equipamento_id",disabled:!0,displayExpr:"descricao",maxLength:50}}),r.a.EmptyBox(6),r.a.TextArea({dataField:"observacao",colSpan:12,editorOptions:{maxLength:200}})])],this._formService.formContext[l.a.ENTRADA_MANUAL_PEV_FORM]=this,this.context=l.a.ENTRADA_MANUAL_PEV_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._maxDateInterval=setInterval(()=>{this.formComponent.setFieldOption("data_ocorrencia",{max:new Date})},3e4)}ngOnDestroy(){clearInterval(this._maxDateInterval)}popupShow(){this.formComponent.setFieldOption("data_ocorrencia",{max:new Date}),this._pontoService.getPonto({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("ponto_id",{dataSource:t})})}saveEntradaManualAction(t){Object.assign(this.formComponent.dataModel,{historico:"ACESSO/PASSAGEM - ENTRADA MANUAL PEV",tipo_ocorrencia_id:3,data_ocorrencia:new Date(t.ev.data.data_ocorrencia),sentido:"ENTRADA"}),this.saveActionEmitter.emit()}cancelEntradaManualAction(t){this.cancelActionEmitter.emit()}}return a.__decorate([Object(s.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(s.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"saveEntradaManualAction",null),a.__decorate([Object(s.e)("formComponent","cancelAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cancelEntradaManualAction",null),t})()},AccZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("CKzo"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){t(e,5,0,!e.component.ACAO.CACESSO_EDITAR_OCORRENCIA_ACESSO,"Editar","fa fa-pencil-alt")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ocorrencia-acesso-view-column-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("app-ocorrencia-acesso-view-column-component",u.a,f,{},{},[])},BzFF:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("5I76"),f=n("ZoiP"),v=n("J6U6"),g=n("zMsH"),x=n("6ywV"),b=n("E8iS"),C=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","auto"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"auto","50%"),t(e,6,0,!0,n.context,!0)}),null)}function S(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-saida-manual-pessoa-form-component",[],null,null,null,O,C)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,l.a,f.a,v.a,g.a,s.a,x.a,b.a],null,null)],(function(t,e){t(e,1,0)}),null)}var D=a["\u0275ccf"]("app-saida-manual-pessoa-form-component",_.a,S,{context:"context"},{},[])},CKzo:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this._customComponentService.customComponentContext.ocorrenciaAcessoView=this,this.setAcao(["CACESSO_EDITAR_OCORRENCIA_ACESSO"])}editar(t){this.editarAction.emit(t)}}},Cc29:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},DXpO:function(t,e,n){"use strict";var a=n("D57K"),o=n("YtkY"),i=n("3DLZ"),l=n("o/uR"),r=n("nhxO"),s=n("b7PS"),c=n("ixXO");let d=(()=>{class t extends r.a{constructor(t={}){super(),Object.assign(this,t)}getList(e){const n=new Array;return e.forEach(e=>{Object.assign(e,{data_ocorrencia:new Date(e.data_ocorrencia)}),n.push(new t(e))}),n}get ocorrencia_id(){return this._ocorrencia_id}get data_ocorrencia(){return this._data_ocorrencia}get sentido_id(){return this._sentido_id}get equipamento_id(){return this._equipamento_id}get equipamento_descricao(){return this._equipamento_descricao}get pessoa_nome(){return this._pessoa_nome}get pessoa_tipo_pessoa(){return this._pessoa_tipo_pessoa}get pessoa_id(){return this._pessoa_id}get pessoa_documentos(){return this._pessoa_documentos}get tipo_ocorrencia_id(){return this._tipo_ocorrencia_id}get tipo_ocorrencia_desc(){return this._tipo_ocorrencia_desc}set ocorrencia_id(t){this._ocorrencia_id=t}set data_ocorrencia(t){this._data_ocorrencia=t}set sentido_id(t){this._sentido_id=t}set equipamento_id(t){this._equipamento_id=t}set equipamento_descricao(t){this._equipamento_descricao=t}set pessoa_nome(t){this._pessoa_nome=t}set pessoa_tipo_pessoa(t){this._pessoa_tipo_pessoa=t}set pessoa_id(t){this._pessoa_id=t}set pessoa_documentos(t){this._pessoa_documentos=t}set tipo_ocorrencia_id(t){this._tipo_ocorrencia_id=t}set tipo_ocorrencia_desc(t){this._tipo_ocorrencia_desc=t}}return a.__decorate([Object(s.b)("ID"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"ocorrencia_id",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Data"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"data_ocorrencia",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Sentido"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"sentido_id",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Equipamento"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"equipamento_id",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Equipamento"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"equipamento_descricao",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Pessoa"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_nome",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Tipo Pessoa"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"pessoa_tipo_pessoa",null),a.__decorate([Object(s.b)(""),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_id",null),a.__decorate([Object(s.b)("Documento"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"pessoa_documentos",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Tipo de ocorr\xeancia"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"tipo_ocorrencia_id",null),a.__decorate([Object(c.c)(!0),Object(s.b)("Tipo de ocorr\xeancia"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"tipo_ocorrencia_desc",null),t})();var u=n("IvV6");n.d(e,"a",(function(){return p}));let p=(()=>{class t{constructor(t,e,n){this._formService=t,this._customComponentService=e,this._cacessoService=n,this.title="Editar Ocorr\xeancia",this.editMode=!1,this.dataModel=new d({}),this.items=[i.a.Group("Dados da Ocorr\xeancia",[i.a.TextBox({dataField:"pessoa.nome",colSpan:6,editorOptions:{disabled:!0}}),i.a.EmptyBox(6),i.a.TextBox({dataField:"equipamento.descricao",colSpan:6,editorOptions:{disabled:!0}}),i.a.EmptyBox(6),i.a.DateBox({dataField:"data_ocorrencia",colSpan:6,label:{viseble:!1},editorOptions:{width:"100%",type:"datetime",displayFormat:"dd/MM/yyyy HH:mm:ss",useMaskBehavior:!0}}),i.a.EmptyBox(6)])],this._formService.formContext[l.a.OCORRENCIA_ACESSO_FORM]=this,this.context=l.a.OCORRENCIA_ACESSO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}start(t){this.formComponent.editMode=!0,this._cacessoService.getOcorrencia({ocorrencia_id:t.params.ocorrencia_id},{form:!0}).pipe(Object(o.a)(t=>new d(t))).subscribe(t=>{Object.assign(this.formComponent.dataModel,{ocorrencia_id:t.ocorrencia_id,data_ocorrencia:new Date(t.data_ocorrencia),pessoa:t.pessoa,equipamento:t.equipamento})})}}return a.__decorate([Object(u.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),t})()},E8Hf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("D57K"),o=n("3DLZ"),i=n("o/uR"),l=n("178o"),r=n("IvV6");let s=(()=>{class t{constructor(t,e){this._formService=t,this._pontoService=e,this.editMode=!1,this.dataModel=new l.a,this.title="Cadastro de Ponto",this.items=[o.a.Group("Dados do Ponto",[o.a.TextBox({dataField:"descricao",editorOptions:{maxLength:100}}),o.a.CheckBox({dataField:"ativo",editorOptions:{disabled:!0,text:"Ativo"},label:{visible:!1}})])],this._formService.formContext[i.a.PONTO_FORM]=this,this.context=i.a.PONTO_FORM}ngOnInit(){this.popup.title=this.title}ngOnDestroy(){}ngAfterViewInit(){}start(t){const e=t.params;e&&e.ponto_id?(this._pontoService.getPonto({ponto_id:e.ponto_id},{form:!0}).subscribe(t=>{Object.assign(this.formComponent.dataModel,t)}),this.formComponent.editMode=!0):this.formComponent.editMode=!1}}return a.__decorate([Object(r.e)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),t})()},"EA/b":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("vQx9"),f=n("J6U6"),v=n("M7cE"),g=n("pIw2"),x=n("ZoiP"),b=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","80%"],["width","85%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"80%","85%"),t(e,6,0,!0,n.context,!0)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-cartao-form-component",[],null,null,null,C,b)),a["\u0275did"](1,4440064,null,0,_.a,[f.a,v.a,g.a,x.a,r.a,m.a,s.a,l.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-cartao-form-component",_.a,O,{context:"context"},{},[])},Ee1J:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("cIxG"),f=n("M7cE"),v=n("J6U6"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-cartao-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-cartao-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_cartao_id:"_cartao_id",cartao_id:"cartao_id"},{close:"close"},[])},FmvR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.equipamentoView=this,this.setAcao(["CACESSO_EDITAR_EQUIPAMENTO","CACESSO_EXCLUIR_EQUIPAMENTO","CACESSO_STATUS_EQUIPAMENTO"])}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},Fwx9:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("kZht");n("ZoiP");class o{constructor(t){this._customComponentService=t,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.departamentoView=this}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},H9hE:function(t,e,n){"use strict";var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("bJFq"),p=n("ZoiP"),m=n("mKV9");class h extends m.a{constructor(t,e,n){super(e),this._customComponentService=t,this._injector=e,this._router=n,this.excluirAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this._customComponentService.customComponentContext.pessoaEstrangeiraCaViewOptions=this,this.setAcao([""])}editar(t){this._router.navigate(["/controle_acesso/presenters/forms/pessoa-estrangeira",{id:t}])}openLog(t){this.openLogAction.emit(t)}excluir(t){Object(u.confirm)("Voc\xea tem certeza?","Confirma\xe7\xe3o").then(e=>{e&&this.excluirAction.emit(t)})}ativar(t){Object(u.confirm)(`Voc\xea tem certeza que deseja ativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.ativarAction.emit(t)})}inativar(t){Object(u.confirm)(`Voc\xea tem certeza que deseja inativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.inativarAction.emit(t)})}}var _=n("1VvW");n.d(e,"a",(function(){return b}));var f=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function v(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"],["name","editar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data.pessoa_id)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"],["name","excluir"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){t(e,5,0,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,"Excluir","fas fa-trash-alt"),t(e,20,0,e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,!e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function g(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,v)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,g,f)),a["\u0275did"](1,49152,null,0,h,[p.a,a.Injector,_.p],null,null)],null,null)}var b=a["\u0275ccf"]("ng-component",h,x,{},{},[])},"HF+A":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{constructor(){}ngOnInit(){}}},HjSQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("+Ip7"),f=n("J6U6"),v=n("qO5a"),g=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,x)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pessoa-cartao-log-grid-component",[],null,null,null,b,g)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-pessoa-cartao-log-grid-component",_.a,C,{context:"context",visible:"visible",logTitle:"logTitle",_pessoa_cartao_id:"_pessoa_cartao_id",pessoa_cartao_id:"pessoa_cartao_id"},{close:"close"},[])},I1TZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("QsYi"),f=n("J6U6"),v=n("6ywV"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ponto-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-ponto-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_ponto_id:"_ponto_id",ponto_id:"ponto_id"},{close:"close"},[])},IVVj:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("PR0L"),f=n("kT5R"),v=n("J6U6"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pessoa-ca-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-pessoa-ca-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_pessoa_id:"_pessoa_id",pessoa_id:"pessoa_id"},{close:"close"},[])},In6y:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("ARLo"),f=n("ZoiP"),v=n("J6U6"),g=n("E8iS"),x=n("PofR"),b=n("6ywV"),C=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","60%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"60%","50%"),t(e,6,0,!0,n.context,!0)}),null)}function S(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-entrada-manual-pev-form-component",[],null,null,null,O,C)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,l.a,f.a,v.a,s.a,g.a,x.a,b.a],null,null)],(function(t,e){t(e,1,0)}),null)}var D=a["\u0275ccf"]("app-entrada-manual-pev-form-component",_.a,S,{context:"context"},{},[])},J89N:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("PofR");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this._pevService=e,this.cacessoService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set pev_id(t){this.logTitle="Log - Pev",this._pev_id=t,this._pev_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get pev_id(){return this._pev_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("pev_id",!1,"Pev ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this._pevService.getLog({fieldvalue:this.pev_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: PEV, ID: "+this.pev_id+"): "+t.data.descricao,origem:"PEV",id:this.pev_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},"K+TM":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.excluirAction=new a.EventEmitter,this.editarAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.grupoAcessoView=this,this.setAcao(["CACESSO_EDITAR_GRUPO_ACESSO","CACESSO_EXCLUIR_GRUPO_ACESSO","CACESSO_STATUS_GRUPO_ACESSO"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){this.excluirAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},LFg9:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("D57K"),o=n("kZht"),i=n("IvV6"),l=n("o/uR"),r=n("vE43"),s=n("3DLZ"),c=n("R/GS"),d=n("3KZh"),u=n("178o");let p=(()=>{class t{constructor(t,e,n,a){this._formService=t,this._areaService=e,this._pontoService=n,this._equipamentoService=a,this.editMode=!1,this.title="Cadastro de Equipamento",this.dataModel=new d.a,this.secureDeleteFileAction=new o.EventEmitter,this.selectionPonto=t=>{t&&Object.assign(this.formComponent.dataModel,{ponto_id:t.ponto_id})},this.selectionAreaEntrada=t=>{t&&Object.assign(this.formComponent.dataModel,{area_id_entrada:t.area_id})},this.selectionAreaSaida=t=>{t&&Object.assign(this.formComponent.dataModel,{area_id_saida:t.area_id})},this.marca=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&Object.assign(this.formComponent.dataModel,{equipamento_marca_id:t.selectedItem.marca_low_value})},this.items=[s.a.Group("Dados do Equipamento",[s.a.TextBox({dataField:"descricao",colSpan:6,editorOptions:{maxLength:200}}),s.a.EmptyBox(6),s.a.Autocomplete2({dataField:"ponto_search",colSpan:6,label:{text:"Ponto do Equipamento"},editorOptions:{valueExpr:"descricao",maxLength:100,showClearButton:!0}},this,"ponto_id","search",u.a,"ponto_id",new r.a({params:{ativo:1}},this._pontoService,this._pontoService.getPontoAutocomplete),this.selectionPonto),s.a.EmptyBox(6),s.a.Autocomplete2({dataField:"area_search_entrada",colSpan:6,label:{text:"\xc1rea de Entrada"},editorOptions:{valueExpr:"descricao",maxLength:100,showClearButton:!0}},this,"area_id_entrada","descricao",c.a,"area_id",new r.a({params:{ativo:1}},this._areaService,this._areaService.getAreaAutocomplete),this.selectionAreaEntrada),s.a.EmptyBox(6),s.a.Autocomplete2({dataField:"area_search_saida",colSpan:6,label:{text:"\xc1rea de Sa\xedda"},editorOptions:{valueExpr:"descricao",maxLength:100,showClearButton:!0}},this,"area_id_saida","descricao",c.a,"area_id",new r.a({params:{ativo:1}},this._areaService,this._areaService.getAreaAutocomplete),this.selectionAreaSaida),s.a.EmptyBox(6),s.a.TextBox({dataField:"identificador",colSpan:6,editorOptions:{maxLength:100}}),s.a.EmptyBox(6),s.a.SelectBox({dataField:"equipamento_marca_id",colSpan:6,editorOptions:{displayExpr:"marca_abbreviation",valueExpr:"marca_low_value",elementAttr:{id:"marca-form-descricao"},onSelectionChanged:this.marca,maxLength:50}}),s.a.EmptyBox(6),s.a.TextArea({dataField:"observacao",colSpan:8,editorOptions:{maxLength:200}}),s.a.EmptyBox(4),s.a.CheckBox({dataField:"ativo",colSpan:4,label:{visible:!1},editorOptions:{text:"Ativo?",disabled:!0}}),s.a.EmptyBox(8)]),s.a.Group("Anexos",[s.a.File({contextId:"config_kmm",dataField:"config_kmm_file",label:"Configura\xe7\xe3o KMM",colSpan:3,safeDelete:!0,identificador:"config_kmm",allowedExtensions:["json"],getFile:t=>this._equipamentoService.getArquivoEquipamento({config_kmm:t})},this,{dataField:"config_kmm",tipo_anexo_id:1}),s.a.File({contextId:"config_fabricante",dataField:"config_fabricante_file",label:"Configura\xe7\xe3o Fabricante",colSpan:3,safeDelete:!0,identificador:"config_fabricante_id",getFile:t=>this._equipamentoService.getArquivoEquipamento({config_fabricante_id:t})},this,{dataField:"config_fabricante",tipo_anexo_id:1})])],this._formService.formContext[l.a.EQUIPAMENTO_FORM]=this,this.context=l.a.EQUIPAMENTO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}popupShow(){this._equipamentoService.getEquipamentoMarca({ativo:1}).subscribe(t=>{this.formComponent.setFieldOption("equipamento_marca_id",{dataSource:t})}),this._formService.formContext[this.context].formComponent.dataModel.anexos=[]}start(t){const e=t.params;e&&e.equipamento_id?(this._equipamentoService.getEquipamento({equipamento_id:e.equipamento_id},{form:!0}).subscribe(t=>{Object.assign(this.formComponent.dataModel,t),t.ponto&&Object.assign(this.formComponent.dataModel,{ponto_id:t.ponto.ponto_id,ponto_search:t.ponto.descricao}),t.area_entrada&&Object.assign(this.formComponent.dataModel,{area_id_entrada:t.area_entrada.area_id,area_id_saida:t.area_saida.area_id}),t.area_saida&&Object.assign(this.formComponent.dataModel,t,{area_search_entrada:t.area_entrada.descricao,area_search_saida:t.area_saida.descricao})}),this.formComponent.editMode=!0):this.formComponent.editMode=!1}fileHandled(t){const e=new Blob([window.atob(t.ev.arquivo)],{type:"application/json"}),n=new FileReader,a=this;n.onload=function(t){Object.assign(a.formComponent.dataModel,{config_kmm:t.target.result})},n.readAsText(e,"application/json")}fileHandledFab(t){const e=new Blob([window.atob(t.ev.arquivo)],{type:"text/xml"}),n=new FileReader,a=this;n.onload=function(t){Object.assign(a.formComponent.dataModel,{config_fabricante:t.target.result})},n.readAsText(e,"text/xml")}}return a.__decorate([Object(i.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(i.e)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(i.e)("formComponent","pushFile",!1,{arrayProperty:{key:"componentInstance",index:0}}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"fileHandled",null),a.__decorate([Object(i.e)("formComponent","pushFile",!1,{arrayProperty:{key:"componentInstance",index:1}}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"fileHandledFab",null),t})()},LZ8Z:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.refreshAction=new a.EventEmitter,this.logOcorrenciaEquipamentoAction=new a.EventEmitter,this.logOcorrenciaAcessoAction=new a.EventEmitter,this._customComponentService.customComponentContext.supervisorioViewOptions=this,this.setAcao(["CACESSO_REINICIAR_SUPERVISORIO"])}refresh(t){this.refreshAction.emit(t)}logsAcesso(t){this.logOcorrenciaAcessoAction.emit(t)}logsEquipamento(t){this.logOcorrenciaEquipamentoAction.emit(t)}}},Lmit:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("E9+I"),n("qO5a"),n("/caa")),r=n("QSHt");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this.departamentoService=e,this.cacessoService=n,this.formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set departamento_id(t){this.logTitle="Log - Departamento",this._departamento_id=t,this._departamento_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get departamento_id(){return this._departamento_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("departamento_id",!1,"Departamento ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this.departamentoService.getLog({fieldvalue:this.departamento_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Departamento, ID: "+this.departamento_id+"): "+t.data.descricao,origem:"departamento",id:this.departamento_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},LpyD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("kZht"),o=(n("pIw2"),n("zhvJ"),n("ZoiP"),n("qO5a"),n("qWPx")),i=n("o/uR");class l{constructor(t,e,n,o){this._cartaoService=t,this._customComponentService=e,this._formService=n,this._messageService=o,this.statusCartao="undefined",this.errorMessage="Cart\xe3o n\xe3o cadastrado! Cadastre-o manualmente!",this.idCard="",this.recinto="",this.validade="",this.crcA="",this.crcB="",this.cartaoAtual=void 0,this.entityType="pessoa",this.aditionalMessage="",this.outroRecintoMessage="",this.cartaoReadAction=new a.EventEmitter,this.lerCartaoAction=new a.EventEmitter,this._customComponentService.customComponentContext.lerCartaoViewComponent=this}ngOnInit(){this.cartaoReadSubscription=this._cartaoService.cartaoReadAction.subscribe(t=>{this.cartaoReadAction.emit(new o.a(t))})}start(){this.statusCartao="",this.errorMessage="",this.idCard="",this.recinto="",this.crcA="",this.crcB=""}ngOnDestroy(){this.cartaoReadSubscription.unsubscribe()}readCard(){this._formService.formContext[i.a.VINCULO_CARTAO_FORM].checkCardToSave=!1,this._formService.formContext[i.a.VINCULO_CARTAO_FORM].cardData=null,this._cartaoService.readCard()}ler(t){this.lerCartaoAction.emit(),this._cartaoService.readCard()}}},MKiM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},MTK5:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("Lmit"),f=n("E9+I"),v=n("J6U6"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-departamento-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-departamento-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_departamento_id:"_departamento_id",departamento_id:"departamento_id"},{close:"close"},[])},Mizv:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("E8Hf"),f=n("6ywV"),v=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","65%"],["width","45%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"65%","45%"),t(e,6,0,!0,n.context,!0)}),null)}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ponto-form-component",[],null,null,null,g,v)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var b=a["\u0275ccf"]("app-ponto-form-component",_.a,x,{context:"context"},{},[])},Nlpf:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},NveE:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("kZht"),o=(n("ZoiP"),n("0h//"),n("3DLZ")),i=(n("qO5a"),n("o/uR")),l=n("bRem"),r=n("RvQh"),s=n("vE43");n("J6U6"),n("Er32"),n("1L3/");class c{constructor(t,e,n,c){this._formService=t,this._cacessoService=e,this._recintoService=n,this._customComponentService=c,this.title="Vinculo de Pessoa Cart\xe3o",this.editMode=!1,this.saveFormAction=new a.EventEmitter,this.dataModel=new l.a,this.cartao=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&(Object.assign(this.formComponent.dataModel,{cartao_id:t.selectedItem.cartao_id,data_inicio:t.selectedItem.data_ativacao,data_fim:t.selectedItem.data_validade,tipo_cartao_descricao:t.selectedItem.tipo_cartao_descricao}),this.formComponent.setFieldOption("identificador",{value:t.selectedItem.identificador}),this.formComponent.setFieldOption("data_validade",{value:t.selectedItem.data_validade}),this.formComponent.setFieldOption("tipo_cartao_id",{value:t.selectedItem.tipo_cartao_id}))},this.dataValidade=t=>{},this.dataAcesso=t=>{},this.areaAcesso=t=>{},this.requests=function(){return[new s.a({params:{disponivel:1}},this._cacessoService,this._cacessoService.getCartao,"cartao_id")]},this.items=[o.a.Group("Responsavel pela Libera\xe7\xe3o",[o.a.Autocomplete2({dataField:"responsavel_search",colSpan:8,editorOptions:{valueExpr:"displayName",showClearButton:!0,tabIndex:1}},this,"responsavel_id","search",r.a,"pessoa_id",new s.a({params:{tipo_pessoa_id:2,ativo:1}},this._recintoService,this._recintoService.getPessoa))]),o.a.Group("Dados do Cart\xe3o",[o.a.TextBox({dataField:"identificador",colSpan:4,editorOptions:{maxLength:100,disabled:!1}}),o.a.EmptyBox(8),o.a.TextBox({dataField:"tipo_cartao_id",colSpan:3,label:{text:"Tipo do cart\xe3o"},editorOptions:{disabled:!0}}),o.a.EmptyBox(9),o.a.DateBox({dataField:"data_validade",colSpan:2,editorOptions:{type:"date",displayFormat:"dd/MM/yyyy",disabled:!0,onValueChanged:this.dataValidade,maxLength:10}}),o.a.EmptyBox(10)]),o.a.Group("\xc1rea de Acesso",[o.a.SelectBox({dataField:"area_id",colSpan:3,editorOptions:{displayExpr:"descricao",valueExpr:"area_id",dataSource:[{area_id:"E",descricao:"E"},{area_id:"A",descricao:"A"},{area_id:"R",descricao:"R"},{area_id:"M",descricao:"M"},{area_id:"EA",descricao:"EA"},{area_id:"EM",descricao:"EM"}],maxLength:50,elementAttr:{id:"area-form-descricao"},onSelectionChanged:this.areaAcesso}})])],this._formService.formContext[i.a.PESSOA_CARTAO_FORM]=this,this.context=i.a.PESSOA_CARTAO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}}},P11n:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("yR9p"),f=n("M7cE"),v=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","70%"],["width","55%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"70%","55%"),t(e,6,0,!0,n.context,!0)}),null)}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-cartao-tipo-form-component",[],null,null,null,g,v)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var b=a["\u0275ccf"]("app-cartao-tipo-form-component",_.a,x,{context:"context"},{},[])},PR0L:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("w+uw"),o=n.n(a),i=n("/caa"),l=n("QSHt"),r=n("9zi2");n("qO5a"),n("kT5R"),n("J6U6");class s extends i.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this._pessoaFisicaService=e,this._cacessoService=n,this._formsService=a,this.visible=!1,this.dataModel=new l.a,this.webUrl=""}set pessoa_id(t){this.logTitle="Log - Pessoas",this._pessoa_id=t,this._pessoa_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get pessoa_id(){return this._pessoa_id}getColumns(){return[r.a.numberColumn("log_id",!1,"Log ID"),r.a.numberColumn("pessoa_id",!1,"Pessoa ID"),r.a.datetimeColumn("date_insert",!0,"Inserido em",120),r.a.textColumn("user_insert",!0,"Usu\xe1rio",150),r.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),r.a.textColumn("evento_abreviatura",!0,"Evento"),r.a.numberColumn("evento_id",!1,"Evento ID"),r.a.textColumn("origem",!1)]}getDataSource(){return this._pessoaFisicaService.getLog({fieldvalue:this.pessoa_id})}insLog(t){this._cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: PESSOA, ID: "+this.pessoa_id+"): "+t.data.descricao,origem:"PESSOA",id:this.pessoa_id,evento_id:null,macro:"CACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},PkUA:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("NveE"),f=n("J6U6"),v=n("Er32"),g=n("ZoiP"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","70%"],["width","80%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"70%","80%"),t(e,6,0,!0,n.context,!0)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pessoa-cartao-form-component",[],null,null,null,b,x)),a["\u0275did"](1,4308992,null,0,_.a,[r.a,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-pessoa-cartao-form-component",_.a,C,{context:"context"},{},[])},"Q/DK":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this._customComponentService.customComponentContext.cartaoTipoView=this,this.setAcao(["CACESSO_EDITAR_TIPO_CARTAO","CACESSO_EXCLUIR_TIPO_CARTAO"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){this.excluirAction.emit(t)}}},Q2YV:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9")),i=n("nhxO");class l extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.openLogAction=new a.EventEmitter,this.saidaManualAction=new a.EventEmitter,this._customComponentService.customComponentContext.pessoaPresenteView=this,this.setAcao(["CACESSO_SAIDA_PESSOA_PRESENTE"])}openLog(t){this.openLogAction.emit(i.a.clone(t))}saidaManual(t){this.saidaManualAction.emit(i.a.clone(t))}}},Qkqq:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("g/uU"),f=n("v+24"),v=n("tHs3"),g=n("J6U6"),x=n("Er32"),b=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),a["\u0275qud"](402653184,3,{formItems:0}),(t()(),a["\u0275eld"](3,0,null,null,26,"app-popup-form",[["width","45%"]],null,null,null,o.c,o.b)),a["\u0275did"](4,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{width:[0,"width"]},null),a["\u0275qud"](335544320,4,{formComponent:0}),(t()(),a["\u0275eld"](6,0,null,0,23,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](7,5488640,[[4,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,5,{formItems:1}),a["\u0275qud"](335544320,6,{formModel:0}),(t()(),a["\u0275eld"](10,0,null,null,19,"kmm-dx-group",[],null,null,null,_.G,_.n)),a["\u0275did"](11,1097728,[[5,4],[3,4],["group",4]],2,f.f,[],null,null),a["\u0275qud"](603979776,7,{validation:1}),a["\u0275qud"](603979776,8,{formItems:1}),(t()(),a["\u0275eld"](14,0,null,null,3,"kmm-dx-autocomplete",[["dataField","pessoa_search"],["dataFieldId","pessoa_id"],["searchParam","search"],["selectedItemDataFieldId","pessoa_id"]],null,null,null,_.C,_.j)),a["\u0275did"](15,1163264,[[8,4],["item",4]],1,f.a,[],{dataField:[0,"dataField"],editorOptions:[1,"editorOptions"],context:[2,"context"],dataFieldId:[3,"dataFieldId"],searchParam:[4,"searchParam"],selectedItemClass:[5,"selectedItemClass"],selectedItemDataFieldId:[6,"selectedItemDataFieldId"],call:[7,"call"]},null),a["\u0275qud"](603979776,9,{validation:1}),a["\u0275pod"](17,{valueExpr:0,maxLength:1}),(t()(),a["\u0275eld"](18,0,null,null,3,"kmm-dx-textbox",[["dataField","descricao"]],null,null,null,_.M,_.t)),a["\u0275did"](19,1097728,[[8,4],["item",4]],1,f.o,[],{dataField:[0,"dataField"],editorOptions:[1,"editorOptions"]},null),a["\u0275qud"](603979776,10,{validation:1}),a["\u0275pod"](21,{maxLength:0}),(t()(),a["\u0275eld"](22,0,null,null,3,"kmm-dx-checkbox",[["dataField","ativo"]],null,null,null,_.D,_.k)),a["\u0275did"](23,1097728,[[8,4],["item",4]],1,f.b,[],{dataField:[0,"dataField"],editorOptions:[1,"editorOptions"]},null),a["\u0275qud"](603979776,11,{validation:1}),a["\u0275pod"](25,{text:0,disabled:1,value:2}),(t()(),a["\u0275eld"](26,0,null,null,3,"kmm-dx-textarea",[["dataField","observacao"]],null,null,null,_.L,_.s)),a["\u0275did"](27,1097728,[[8,4],["item",4]],1,f.n,[],{dataField:[0,"dataField"],editorOptions:[1,"editorOptions"]},null),a["\u0275qud"](603979776,12,{validation:1}),a["\u0275pod"](29,{maxLength:0})],(function(t,e){var n=e.component;t(e,4,0,"45%"),t(e,7,0,!0,n.context,!0);var a=t(e,17,0,"display_name",50);t(e,15,0,"pessoa_search",a,n,"pessoa_id","search",n.selectedItemClass,"pessoa_id",n.pessoaSearchCall());var o=t(e,21,0,100);t(e,19,0,"descricao",o);var i=t(e,25,0,"Ativo",!0,!0);t(e,23,0,"ativo",i);var l=t(e,29,0,200);t(e,27,0,"observacao",l)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-area-form-component",[],null,null,null,C,b)),a["\u0275did"](1,5488640,null,0,v.a,[g.a,a.Injector,x.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-area-form-component",v.a,O,{},{},[])},QsYi:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("6ywV");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this.cacessoService=e,this.pontoService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set ponto_id(t){this.logTitle="Log - Ponto",this._ponto_id=t,this._ponto_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get ponto_id(){return this._ponto_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("ponto_id",!1,"Ponto ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this.pontoService.getLog({fieldvalue:this.ponto_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Ponto, ID: "+this.ponto_id+"): "+t.data.descricao,origem:"area",id:this.ponto_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},RBlU:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("5tGY"),f=n("ZoiP"),v=n("J6U6"),g=n("Er32"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","50%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[["controlPopupBehaviour","true"]],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"50%","50%"),t(e,6,0,!0,n.context,"true")}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-bloqueio-pv-form-component",[],null,null,null,b,x)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,l.a,f.a,v.a,s.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-bloqueio-pv-form-component",_.a,C,{context:"context"},{},[])},RMIN:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("DXpO"),f=n("ZoiP"),v=n("J6U6"),g=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","50%"],["width","40%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"50%","40%"),t(e,6,0,!0,n.context)}),null)}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ocorrencia-acesso-form-component",[],null,null,null,x,g)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a,v.a],null,null)],(function(t,e){t(e,1,0)}),null)}var C=a["\u0275ccf"]("app-ocorrencia-acesso-form-component",_.a,b,{context:"context"},{},[])},RrRZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("wRbP"),f=n("J6U6"),v=n("qO5a"),g=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,x)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-bloqueio-ov-log-grid-component",[],null,null,null,b,g)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-bloqueio-ov-log-grid-component",_.a,C,{context:"context",visible:"visible",logTitle:"logTitle",_bloqueio_pv_id:"_bloqueio_pv_id",bloqueio_pv_id:"bloqueio_pv_id"},{close:"close"},[])},SNVw:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n("3cT2");var a=n("o/uR"),o=n("Dm1H"),i=(n("1ugp"),n("J6U6"),n("3KZh")),l=n("veZt"),r=n("HF+A"),s=n("bPlT"),c=n("d1tj");class d{constructor(t,e){this._cacessoService=t,this._gridService=e,this.dataModel=new i.a,this._gridData=[],this.context=a.a.SUPERVISORIO_GRID,this.columns=[o.a.ID({dataField:"equipamento_id"}),o.a.Text({dataField:"descricao"}),o.a.Text({dataField:"sentido",alignment:"center"}),o.a.Text({dataField:"msg_display",caption:"Display"}),o.a.Text({dataField:"ultimo_log"}),o.a.Template({dataField:"status",cellTemplate:"teste",component:l.a,caption:"Status",fixed:!1}),o.a.Template({dataField:"card_ok",cellTemplate:"cartao",component:s.a,caption:"Cart\xe3o",fixed:!1}),o.a.Template({dataField:"bio_ok",cellTemplate:"bio",component:c.a,caption:"Bio",fixed:!1}),o.a.Template({dataField:"picto_verde",cellTemplate:"sinaleiro",component:r.a,caption:"Sinaleiro",fixed:!1}),o.a.Text({dataField:"user_insert",width:100,visible:!1}),o.a.Datetime({dataField:"date_insert",width:140,visible:!1}),o.a.Text({dataField:"user_update",width:100,visible:!1}),o.a.Datetime({dataField:"date_update",width:140,visible:!1})],this._gridService.gridContext[a.a.SUPERVISORIO_GRID]=this}set customColumns(t){this._customColumns=t,t.forEach((t,e)=>{this.columns.push(t)})}get customColumns(){return this._customColumns}set gridData(t){this._gridData=t,this.grid.dxDataGrid.instance&&this.grid.dxDataGrid.instance.option("dataSource",t)}get gridData(){return this._gridData}}},SbIg:function(t,e,n){"use strict";var a=n("kZht"),o=n("t13C"),i=n("0h//"),l=n("BbT4"),r=n("uYo5"),s=n("1VvW"),c=n("zhvJ"),d=n("qO5a"),u=n("FIOi"),p=n("xujP"),m=n("ZoiP"),h=n("3DLZ"),_=n("o/uR"),f=n("bRem"),v=n("RvQh"),g=n("GZx7"),x=n("vE43"),b=n("J6U6"),C=n("Er32");class O{constructor(t,e,n,o){this._formService=t,this._cacessoService=e,this._recintoService=n,this._customComponentService=o,this.editMode=!1,this.saveFormAction=new a.EventEmitter,this.dataModel=new f.a,this.area=[{tipo_cartao_id:1,descricao:"maior_8",valor:25,text:"Pessoas presentes a mais de 8 horas"},{descricao:"maior_12",valor:10,text:"Pessoas presentes a mais de 12 horas"},{descricao:"maior_24",valor:1,text:"Pessoas presentes a mais de 24 horas"},{descricao:"presentes_recinto",valor:150,text:"Total de pessoas presentes"},{descricao:"em_terra",valor:1,text:"Total de pessoas presentes em terra"},{descricao:"no_pier",valor:1,text:"Total de pessoas presentes no P\xeder"}],this.cartao=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&(Object.assign(this.formComponent.dataModel,{cartao_id:t.selectedItem.cartao_id,data_inicio:t.selectedItem.data_ativacao,data_fim:t.selectedItem.data_validade,tipo_cartao_descricao:t.selectedItem.tipo_cartao_descricao}),this.formComponent.setFieldOption("identificador",{value:t.selectedItem.identificador}),this.formComponent.setFieldOption("data_validade",{value:t.selectedItem.data_validade}),this.formComponent.setFieldOption("tipo_cartao_id",{value:t.selectedItem.tipo_cartao_id}))},this.dataValidade=t=>{},this.dataAcesso=t=>{},this.areaAcesso=t=>{},this.requests=function(){return[new x.a({params:{disponivel:1}},this._cacessoService,this._cacessoService.getCartao,"cartao_id")]},this.items=[h.a.Group("Responsavel pela Libera\xe7\xe3o",[h.a.Autocomplete2({dataField:"responsavel_search",colSpan:8,editorOptions:{valueExpr:"displayName",showClearButton:!0,tabIndex:1}},this,"responsavel_id","search",v.a,"pessoa_id",new x.a({params:{tipo_pessoa_id:2,ativo:1}},this._recintoService,this._recintoService.getPessoa))]),h.a.Group("Leitura para novo cart\xe3o",[h.a.SelectBox({dataField:"cartao_id",colSpan:4,editorOptions:{displayExpr:"identificador",valueExpr:"cartao_id",onSelectionChanged:this.cartao}}),h.a.EmptyBox(8),h.a.TextBox({dataField:"identificador",colSpan:4,editorOptions:{maxLength:100,disabled:!1}}),h.a.EmptyBox(8),h.a.SelectBox({dataField:"tipo_cartao_id",colSpan:3,editorOptions:{displayExpr:"descricao",valueExpr:"tipo_cartao_id",disabled:!0,dataSource:[{tipo_cartao_id:1,descricao:"Permanente"},{tipo_cartao_id:2,descricao:"Provis\xf3rio"},{tipo_cartao_id:3,descricao:"Visitante"},{tipo_cartao_id:4,descricao:"Motorista"},{tipo_cartao_id:5,descricao:"PEV Permanente"},{tipo_cartao_id:6,descricao:"PEV Provis\xf3rio"}],maxLength:50,elementAttr:{id:"tipo-cartao-form-descricao"}}}),h.a.EmptyBox(9),h.a.DateBox({dataField:"data_validade",colSpan:2,editorOptions:{type:"date",displayFormat:"dd/MM/yyyy",disabled:!0,onValueChanged:this.dataValidade,useMaskBehavior:!0,maxLength:10}}),h.a.EmptyBox(10),h.a.Template("lerCartaoTemplate",g.a)]),h.a.Group("\xc1rea de Acesso",[h.a.SelectBox({dataField:"area_id",colSpan:3,editorOptions:{displayExpr:"descricao",valueExpr:"area_id",dataSource:[{area_id:"E",descricao:"E"},{area_id:"A",descricao:"A"},{area_id:"R",descricao:"R"},{area_id:"M",descricao:"M"},{area_id:"EA",descricao:"EA"},{area_id:"EM",descricao:"EM"}],maxLength:50,elementAttr:{id:"area-form-descricao"},onSelectionChanged:this.areaAcesso}})])],this._formService.formContext[_.a.CARTAO_PESSOA_FORM]=this,this.context=_.a.CARTAO_PESSOA_FORM}ngAfterViewInit(){this._formService.getEditMode(_.a.PESSOA_FISICA_CA_FORM)}submitAction(t){}}n.d(e,"a",(function(){return E}));var S=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function D(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{formComponent:0}),(t()(),a["\u0275eld"](1,0,null,null,3,"app-form",[["actionBtnTitle","Salvar"],["cancelBtnTitle","Voltar"]],null,[[null,"submitAction"]],(function(t,e,n){var a=!0;return"submitAction"===e&&(a=!1!==t.component.submitAction(n)&&a),a}),o.c,o.b)),a["\u0275did"](2,5488640,[[1,4],["form",4]],2,i.a,[l.a,r.a,a.ChangeDetectorRef,a.NgZone,s.a,c.a,a.ComponentFactoryResolver,d.a,u.a,p.a],{actionBtnTitle:[0,"actionBtnTitle"],cancelBtnTitle:[1,"cancelBtnTitle"],contextName:[2,"contextName"]},{submitAction:"submitAction"}),a["\u0275qud"](603979776,2,{formItems:1}),a["\u0275qud"](335544320,3,{formModel:0})],(function(t,e){t(e,2,0,"Salvar","Voltar",e.component.context)}),null)}function T(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-cartao2-pessoa-form-component",[],null,null,null,D,S)),a["\u0275did"](1,4243456,null,0,O,[d.a,b.a,C.a,m.a],null,null)],null,null)}var E=a["\u0275ccf"]("app-cartao2-pessoa-form-component",O,T,{context:"context"},{},[])},TGgt:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var a=n("D57K"),o=n("kZht"),i=n("wgY5"),l=n("LpyD"),r=n("AytR"),s=n("bRem"),c=n("qWPx"),d=n("IvV6"),u=n("nhxO"),p=n("3DLZ"),m=n("qHyl"),h=n("o/uR");let _=(()=>{class t extends m.a{constructor(t,e,n,a,r,s,d,u){super(a,h.a.VINCULO_CARTAO_FORM),this._cartaoService=t,this._cartaoHelperService=e,this._customComponentService=n,this._injector=a,this._messageService=r,this._pevService=s,this._popupService=d,this._pessoaCartaoService=u,this.title="V\xednculo de Cart\xe3o",this.editMode=!1,this.editPessoa=!1,this.dataModel=new c.a({}),this.saveActionEmitter=new o.EventEmitter,this.cardReadyAction=new o.EventEmitter,this.writeEvent=new o.EventEmitter,this.hideAction=new o.EventEmitter,this.validadeSet=!0,this.minDate=new Date,this.sugereTipo=!0,this.tiposCartao=[],this.isPev=!1,this.isEstrangeiro=!1,this.sugereData=!1,this.maxDate=new Date,this.checkCardToSave=!1,this.saveState=!1,this.blockPermanente=!1,this.cartaoTipoPermanente=!1,this.validaCartao=(t,e)=>{this._cartaoService.getCartao({identificador:t},!0).subscribe(t=>{if(t)if(Object.assign(this.formComponent.dataModel,{cod_acesso:t.cod_acesso,categoria_cartao:t.categoria.descricao}),this._cartaoService.getCartaoTipo({categoria_id:t.categoria_id},{resultset:!0}).subscribe(e=>{this.tiposCartao=e,this.formComponent.setFieldOption("tipo_cartao",{dataSource:e}),e.forEach(e=>{e.tipo_id===t.tipo_id&&Object.assign(this.formComponent.dataModel,{tipo_id:e.tipo_id,tipo_cartao:e.tipo_id})})}),this.blockPermanente&&t.tipo&&365===t.tipo.dias?(this.blockPermanente=!0,this.cartaoTipoPermanente=!0):(this.blockPermanente=!1,this.cartaoTipoPermanente=!1),2!==t.situacao.situacao_id){let e;this.formComponent.clearDataModel(),1===t.situacao.situacao_id?e="Este cart\xe3o encontra-se indispon\xedvel e n\xe3o pode ser vinculado.":4===t.situacao.situacao_id?e="Este cart\xe3o encontra-se cancelado e n\xe3o pode ser vinculado.":5===t.situacao.situacao_id?e="Este cart\xe3o foi roubado e n\xe3o pode ser vinculado.":6===t.situacao.situacao_id&&(e="Este cart\xe3o foi extraviado e n\xe3o pode ser vinculado."),this._messageService.notify(e,"error","vinculo-cartao.form 187",t,8e3),this.lerCartaoTemplate.errorMessage=e,this.lerCartaoTemplate.statusCartao="error"}else{const n=i(new Date(t.validade)),a=i();if(n.isBefore(a)&&this.blockPermanente&&365===t.tipo.dias){this.formComponent.formBusy=!0;const e="Este cart\xe3o encontra-se vencido.";this._messageService.notify(e,"error","vinculo-cartao.form 502",t,8e3),this.lerCartaoTemplate.errorMessage=e,this.lerCartaoTemplate.statusCartao="error"}else this.sugereData=!0,Object.assign(this.formComponent.dataModel,{identificador:t.identificador,cartao_id:t.cartao_id,cartao:t,dias:t.tipo?t.tipo.dias:1}),e?(this.lerCartaoTemplate.statusCartao="vinculado",this.lerCartaoTemplate.cartaoAtual=e.cartao.identificador):(this.lerCartaoTemplate.statusCartao="encontrado",this.lerCartaoTemplate.cartaoAtual=void 0)}else this.formComponent.clearDataModel(),this.lerCartaoTemplate.errorMessage="Cart\xe3o n\xe3o cadastrado! Cadastre-o manualmente!",this.lerCartaoTemplate.statusCartao="error",this.lerCartaoTemplate.cartaoAtual=void 0})},this.sugereDataValidade=t=>{if(t.value&&this.sugereData){const e=this.formComponent.dataModel.dias||1,n=i(t.value),a=i(t.value);n.add(e,"days"),a.add(e,"days"),this.formComponent.setFieldOption("data_validade",{max:a.toDate(),dateOutOfRangeMessage:`Data de validade deve ser maior que a data atual e\n                  inferior ou igual a ${a.toDate().toLocaleDateString("pt",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}`}),Object.assign(this.formComponent.dataModel,{data_validade:n.toDate()})}},this.tipoChanged=t=>{t.value&&(this.tiposCartao.forEach(e=>{e.tipo_id===t.value&&Object.assign(this.formComponent.dataModel,{dias:e.dias})}),Object.assign(this.formComponent.dataModel,{tipo_id:t.value}),this.sugereData&&(this.formComponent.dataModel.data_inicio||Object.assign(this.formComponent.dataModel,{data_inicio:new Date}),this.sugereDataValidade({value:this.formComponent.dataModel.data_inicio})))},this.items=[p.a.Group("",[p.a.Group("",[p.a.TextBox({dataField:"nome_vinculo",label:{text:"Pessoa"},editorOptions:{disabled:!0}}),p.a.NumberBox({dataField:"identificador",colSpan:12,editorOptions:{disabled:!0,maxLength:10,min:0,step:0,max:9999999999999}}),p.a.DateBox({dataField:"data_inicio",colSpan:12,editorOptions:{dateOutOfRangeMessage:`Data de inicio deve ser maior ou igual a ${this.minDate.toLocaleDateString("pt",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}`,disabled:!0,type:"datetime",min:this.minDate,dysplayFormat:"dd/MM/yyyy HH:mm",useMaskBehavior:!0,maxLength:10,width:"100%",onValueChanged:this.sugereDataValidade}}),p.a.DateBox({dataField:"data_validade",colSpan:12,editorOptions:{disabled:!0,type:"datetime",min:this.minDate,dysplayFormat:"dd/MM/yyyy HH:mm",useMaskBehavior:!0,maxLength:10,width:"100%"}}),p.a.TextBox({dataField:"categoria_cartao",label:{text:"Categoria"},editorOptions:{disabled:!0}}),p.a.SelectBox({dataField:"tipo_cartao",colSpan:12,editorOptions:{disabled:!0,displayExpr:"descricao",valueExpr:"tipo_id",onValueChanged:this.tipoChanged}}),p.a.SelectBox({dataField:"cod_acesso",colSpan:12,editorOptions:{disabled:!0,valueExpr:"descricao",displayExpr:"descricao",dataSource:this.dataModel.getCodigosAcesso()}})],12,6),p.a.Group("",[p.a.Template("lerCartaoTemplate",l.a)],6,6)])]}ngOnInit(){super.ngOnInit(),this.popup.title=this.title,this.interval=setInterval(()=>{if(this.sugereData){const t=new Date;let e;if(this.formComponent.dataModel.data_inicio){const t=this.formComponent.dataModel.data_inicio;e=t.getFullYear()+t.getMonth()+t.getDate()+t.getHours()+t.getMinutes()}else e=this.minDate.getFullYear()+this.minDate.getMonth()+this.minDate.getDate()+this.minDate.getHours()+this.minDate.getMinutes();e!==t.getFullYear()+t.getMonth()+t.getDate()+t.getHours()+t.getMinutes()&&(this.minDate=new Date,Object.assign(this.formComponent.dataModel,{data_inicio:this.minDate}),this.formComponent.setFieldOption("data_inicio",{min:this.minDate,dateOutOfRangeMessage:`Data de inicio deve ser maior ou igual a ${this.minDate.toLocaleDateString("pt",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}`}),this.sugereDataValidade({value:this.minDate}))}},1e3),this._cartaoHelperService.workerStateChanged.subscribe(t=>{t?this.saveState||(this.formComponent.formBusy=!1):this.formComponent.formBusy=!0})}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy(),this.helperEvent&&this.helperEvent.unsubscribe(),this.interval=null}popupShow(){this.lerCartaoTemplate.statusCartao="undefined",this.lerCartaoTemplate.cartaoAtual=void 0,this.lerCartaoTemplate.aditionalMessage="",this.formComponent.setFieldOption("data_inicio",{disabled:!0}),this.formComponent.setFieldOption("data_validade",{disabled:!0}),this.saveState=!1,this.formComponent.formBusy=!1,this.checkCardToSave=!1,this.lerCartaoTemplate.ler(null),this.lerCartaoTemplate.start()}hidePopup(){this.minDate=new Date,this.maxDate=new Date,this._cartaoHelperService.cancel(),this.hideAction.emit()}start(t){const e=u.a.clone(t.params.pessoa);this.blockPermanente=!!t.params.blockPermanente&&t.params.blockPermanente,e&&(t.params.isPev?(this.formComponent.dxForm.instance.itemOption("nome_vinculo",{label:{text:"Placa/Identifica\xe7\xe3o"}}),this.lerCartaoTemplate.entityType="PEV","display_name"in e?(Object.assign(this.formComponent.dataModel,{nome_vinculo:e.display_name}),this.formComponent.setFieldOption("nome_vinculo",{value:e.diplay_name})):""!==e.identificador?(Object.assign(this.formComponent.dataModel,{nome_vinculo:e.identificador}),this.formComponent.setFieldOption("nome_vinculo",{value:e.identificador})):(Object.assign(this.formComponent.dataModel,{nome_vinculo:e.placa_veiculo}),this.formComponent.setFieldOption("nome_vinculo",{value:e.placa_veiculo})),this.isPev=!0,this._pevService.getPevCartao({pev_id:e.pev_id,data_fim:null},{form:!0}).subscribe(t=>{this.cartaoResult(t)})):(this.formComponent.dxForm.instance.itemOption("nome_vinculo",{label:{text:"Pessoa"}}),this.lerCartaoTemplate.entityType="pessoa",Object.assign(this.formComponent.dataModel,{nome_vinculo:e.display_name}),this.isPev=!1,this.isEstrangeiro=30!==e.pais_id,this._pessoaCartaoService.getPessoaCartao({pessoa_id:e.pessoa_id,data_fim:null},{form:!0}).subscribe(t=>{this.cartaoResult(t)})),Object.assign(this.formComponent.dataModel,{pessoa_id:e.pessoa_id,pessoa:e}))}cartaoResult(t){t&&(this.sugereData=!1,Object.assign(this.formComponent.dataModel,t.cartao,{data_inicio:new Date(t.vigencia.inicio),data_validade:new Date(t.data_validade),categoria_cartao:t.categoria.descricao}),this._cartaoService.getCartaoTipo({categoria_id:t.categoria_id},{resultset:!0}).subscribe(e=>{this.tiposCartao=e,e.forEach(n=>{n.tipo_id===t.tipo_id&&(this.formComponent.setFieldOption("tipo_cartao",{dataSource:e}),Object.assign(this.formComponent.dataModel,{tipo_cartao:n.tipo_id}))})}))}saveAction(){if(this.saveState=!0,""!==this.lerCartaoTemplate.statusCartao&&"error"!==this.lerCartaoTemplate.statusCartao){const t=u.a.clone(this.formComponent.dataModel),e=i(t.data_inicio),n=i(t.data_validade);if(n.isBefore(i()))this._messageService.notify("Data de validade inv\xe1lida","error",null,null,5e3),this.saveState=!1,this.formComponent.formBusy=!0;else{let a=n.diff(e,"days");if(a<1&&(a=1),t.cartao){let e;this.isPev||(console.log(t.pessoa),e=[],e[0]={numero:t.pessoa.cpf});const n=Object.assign({},{cpf:this.isPev?"0".padStart(11,"0"):this.isEstrangeiro?(t.pessoa.pessoa_id+"").padStart(11,"0"):e[0].numero,recintoEmissor:t.cartao.recinto,validade:a+"",versao:"1",emissao:this._cartaoHelperService.operacaoDias(new Date,"2000-01-01 00:00:00")+"",identificador:this.lerCartaoTemplate.idCard,idCard:this.lerCartaoTemplate.idCard,crcA:this.lerCartaoTemplate.crcA,crcB:this.lerCartaoTemplate.crcB}),o=new s.a;o.setGravacao(n),Object.assign(t.cartao,{gravacao:o.gravacao}),"recinto"in t.cartao||Object.assign(t.cartao,{recinto:"0"}),r.a.codRecinto===t.cartao.recinto||t.cartao.recinto.padStart(7,"0")==="0".padStart(7,"0")?(Object.assign(n,{recintoEmissor:r.a.codRecinto}),this.checkCard(n,t)):this.cardReadyAction.emit(t)}else this.saveState=!1,this.checkCardToSave=!1,this.cardReadyAction.emit(t)}}else this.saveState=!1,this.checkCardToSave=!1,this._messageService.notify("Cart\xe3o ausente","error","vinculo-cartao.form - 244",null,5e3)}checkCard(t,e){this.checkCardToSave=!0,this.cardData={card:t,dataModel:e},this.lerCartaoTemplate.ler(null)}writeCardEvent(t){const e=t.ev;Object.assign(e,{idCard:this.formComponent.dataModel.cartao.identificador});const n=new s.a;n.setGravacao(e),Object.assign(this.formComponent.dataModel.cartao,{gravacao:n.gravacao}),this.editPessoa?this.saveActionEmitter.emit({dataModel:t.ev,editMode:this.formComponent.editMode}):this.cardReadyAction.emit(this.formComponent.dataModel)}cartaoReadAction(t){if(this.formComponent.formBusy=!1,t.ev.obj)if(this.formComponent.setFieldOption("data_inicio",{disabled:!1}),this.formComponent.setFieldOption("data_validade",{disabled:!1}),this.formComponent.setFieldOption("tipo_cartao",{disabled:!1}),this.checkCardToSave)t.ev.obj.idCard===this.formComponent.dataModel.identificador?setTimeout(()=>{t.ev.obj.recintoEmissor===r.a.codRecinto?this.blockPermanente||this.cartaoTipoPermanente?this.cardReadyAction.emit(this.formComponent.dataModel):this._cartaoHelperService.writeCard(this.cardData.card,this.cardData.dataModel):this.cardReadyAction.emit(this.formComponent.dataModel)},1e3):(this.lerCartaoTemplate.statusCartao="error",this.lerCartaoTemplate.errorMessage="Cart\xe3o presente \xe9 diferente do cart\xe3o a ser gravado",this.lerCartaoTemplate.idCard=t.ev.obj.idCard,this.lerCartaoTemplate.recinto=t.ev.obj.recintoEmissor,this.lerCartaoTemplate.validade=this.formComponent.dataModel.data_validade?this.formComponent.dataModel.data_validade.toLocaleString():null,this.lerCartaoTemplate.crcA=t.ev.obj.crcA,this.lerCartaoTemplate.crcB=t.ev.obj.crcB,this._messageService.notify("Cart\xe3o presente \xe9 diferente do cart\xe3o a ser gravado","error","CartaoService - 287",t.ev,5e3));else{const e=this._cartaoHelperService.calcularValidade(parseInt(t.ev.obj.emissao,10),parseInt(t.ev.obj.validade,10)),n=t.ev.obj.idCard;if(this.lerCartaoTemplate.validade="",this.lerCartaoTemplate.idCard=n,this.lerCartaoTemplate.recinto=t.ev.obj.recintoEmissor,this.lerCartaoTemplate.validade=this.formComponent.dataModel.data_validade?this.formComponent.dataModel.data_validade.toLocaleString():null,this.lerCartaoTemplate.crcA=t.ev.obj.crcA,this.lerCartaoTemplate.crcB=t.ev.obj.crcB,t.ev.obj.recintoEmissor!==r.a.codRecinto){if(this.lerCartaoTemplate.outroRecintoMessage="**Cart\xe3o pertence a outro recinto, seus dados n\xe3o ser\xe3o alterados ap\xf3s a grava\xe7\xe3o.",this._cartaoHelperService.verificarVencido(e))return this.lerCartaoTemplate.errorMessage="Cart\xe3o de outro recinto vencido.",void(this.lerCartaoTemplate.statusCartao="error");if(t.ev.obj.crcA!==t.ev.obj.crcB)return this.lerCartaoTemplate.errorMessage="CRC do cart\xe3o lido \xe9 inv\xe1lido.",void(this.lerCartaoTemplate.statusCartao="error")}else{this.lerCartaoTemplate.outroRecintoMessage="";const t=i(this.formComponent.dataModel.data_validade);this._cartaoHelperService.verificarVencido(t)&&(this.lerCartaoTemplate.aditionalMessage="Cart\xe3o vencido.")}Object.assign(this.formComponent.dataModel,{identificador:t.ev.obj.idCard}),this.formComponent.setFieldOption("tipo_cartao",{disabled:!1}),this.formComponent.dataModel.pessoa.tem_cartao?this.isPev?this._pevService.getPevCartao({pev_id:this.formComponent.dataModel.pessoa.pev_id,data_fim:null},{form:!0}).subscribe(t=>{this.validaCartao(n,t)}):this._pessoaCartaoService.getPessoaCartao({pessoa_id:this.formComponent.dataModel.pessoa_id,data_fim:null},{form:!0}).subscribe(t=>{this.validaCartao(n,t)}):this.validaCartao(n,null)}else this.formComponent.setFieldOption("data_inicio",{disabled:!0}),this.formComponent.setFieldOption("data_validade",{disabled:!0}),this.formComponent.setFieldOption("tipo_cartao",{disabled:!0}),this.lerCartaoTemplate.start(),this.lerCartaoTemplate.statusCartao="error",this.lerCartaoTemplate.errorMessage="Cart\xe3o ausente ou danificado",this.lerCartaoTemplate.validade="",this.lerCartaoTemplate.outroRecintoMessage="",this.checkCardToSave=!1,this.saveState=!1}}return a.__decorate([Object(d.d)("lerCartaoTemplate"),a.__metadata("design:type",l.a)],t.prototype,"lerCartaoTemplate",void 0),a.__decorate([Object(d.b)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(d.b)("popup","hideAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"hidePopup",null),a.__decorate([Object(d.b)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(d.b)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"saveAction",null),a.__decorate([Object(d.e)("_cartaoHelperService","writeEvent"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"writeCardEvent",null),a.__decorate([Object(d.e)("lerCartaoTemplate","cartaoReadAction",!1,{template:!0}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cartaoReadAction",null),t})()},TW85:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("D57K"),o=n("kZht"),i=n("3DLZ"),l=n("o/uR"),r=n("wx4l"),s=n("Kdwl"),c=n("IvV6");let d=(()=>{class t{constructor(t,e,n,a,c,d){this._formService=t,this._gridService=e,this._cacesseoService=n,this._popupService=a,this._grupoService=c,this._rotaService=d,this.editMode=!1,this.title="Cadastro de Grupo de Acesso",this.dataModel=new r.a,this.rotas=new Array,this.saveDataAction=new o.EventEmitter,this.rotaTagChanged=t=>{t.value.map(t=>{this._rotaExists(t)||this.rotas.push(new s.a({rota_id:t,operation:"INSERT"}))}),this.rotas=this.rotas.map(e=>(t.value.indexOf(e.rota_id)<0&&Object.assign(e,{operation:"DELETE"}),e)),this.rotas=this.rotas.filter(t=>"DELETE"!==t.operation||"DELETE"===t.operation&&"grupo_rota_id"in t)},this.items=[i.a.Group("Dados do Grupo de Acesso",[i.a.TextBox({dataField:"descricao",colSpan:8,editorOptions:{}}),i.a.EmptyBox(4),i.a.DateBox({dataField:"data_fim",colSpan:4,editorOptions:{type:"date",min:new Date,displayFormat:"dd/MM/yyyy",useMaskBehavior:!0}}),i.a.EmptyBox(8),i.a.CheckBox({dataField:"ativo",colSpan:4,editorOptions:{text:"Ativo?",disabled:!0},label:{visible:!1}}),i.a.EmptyBox(8),i.a.TagBox({dataField:"rotas_field",editorOptions:{dataSource:[],displayExpr:"descricao",valueExpr:"rota_id",onValueChanged:this.rotaTagChanged}})])],this._formService.formContext[l.a.GRUPO_ACESSO_FORM]=this,this.context=l.a.GRUPO_ACESSO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._rotaService.getRota({ativo:!0},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("rotas_field",{dataSource:t})})}ngOnDestroy(){}start(t){t.params.grupo_id?(this.editMode=!0,this.formComponent.editMode=!0,this._grupoService.getGrupo({grupo_id:t.params.grupo_id},{resultset:!0}).subscribe(t=>{const e=t[0];if(e)if(Object.assign(this.formComponent.dataModel,e),e.rota){this.rotas=e.rota;const t=this.rotas.map(t=>t.rota_id);this.formComponent.setFieldOption("rotas_field",{value:t})}else Object.assign(this.formComponent.dataModel,{rotas_field:[]})})):(this.editMode=!1,this.formComponent.editMode=!1,Object.assign(this.formComponent.dataModel,{rotas_field:[]}))}_rotaExists(t){return this.rotas.some(e=>e.rota_id===t)}saveAction(){const t=Object.assign({},this.formComponent.dataModel,{rota:this.rotas});delete t.rotas_field,this.saveDataAction.emit({dataModel:t,editMode:this.formComponent.editMode})}}return a.__decorate([Object(c.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(c.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"saveAction",null),t})()},UETg:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("nbs2"),f=n("J6U6"),v=n("txcG"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-area-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-area-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_area_id:"_area_id",area_id:"area_id"},{close:"close"},[])},UFoH:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return m}));var a=n("kZht"),o=n("COfM"),i=n("1ugp"),l=n("3cT2"),r=n("zhvJ"),s=n("SNVw"),c=n("J6U6"),d=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{grid:0}),(t()(),a["\u0275eld"](1,0,null,null,2,"app-grid-component",[],null,null,null,o.c,o.b)),a["\u0275did"](2,5488640,[[1,4],["grid",4]],1,i.a,[a.ComponentFactoryResolver,l.a,r.a],{contextName:[0,"contextName"]},null),a["\u0275qud"](603979776,2,{templateContent:1})],(function(t,e){t(e,2,0,e.component.context)}),null)}function p(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-supervisorio-grid-component",[],null,null,null,u,d)),a["\u0275did"](1,49152,null,0,s.a,[c.a,l.a],null,null)],null,null)}var m=a["\u0275ccf"]("app-supervisorio-grid-component",s.a,p,{customColumns:"customColumns",gridData:"gridData"},{},[])},UIlS:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("J89N"),f=n("PofR"),v=n("J6U6"),g=n("qO5a"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,b)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pev-log-grid-component",[],null,null,null,C,x)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-pev-log-grid-component",_.a,O,{context:"context",visible:"visible",logTitle:"logTitle",_pev_id:"_pev_id",pev_id:"pev_id"},{close:"close"},[])},Vcm3:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r"),r=n("veZt"),s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,5,"div",[["class","is-fullwidth"]],null,null,null,null,null)),(t()(),a["\u0275eld"](2,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](4,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](5,{"is-success":0,"is-danger":1}),(t()(),a["\u0275ted"](6,null,[" "," "]))],(function(t,e){var n=t(e,5,0,"Online"==e.context.$implicit.data.status,"Offline"==e.context.$implicit.data.status);t(e,4,0,"tag is-full",n)}),(function(t,e){t(e,6,0,e.context.$implicit.data.status)}))}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"teste")}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,d,s)),a["\u0275did"](1,114688,null,0,r.a,[],null,null)],(function(t,e){t(e,1,0)}),null)}var p=a["\u0275ccf"]("ng-component",r.a,u,{},{},[])},W7vd:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("bgJy"),f=n("E9+I"),v=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","65%"],["width","45%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"65%","45%"),t(e,6,0,!0,n.context,!0)}),null)}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-localidade-form-component",[],null,null,null,g,v)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var b=a["\u0275ccf"]("app-localidade-form-component",_.a,x,{context:"context"},{},[])},WimB:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("D57K"),o=n("kZht"),i=n("3DLZ"),l=n("o/uR"),r=n("zahA"),s=n("IvV6"),c=n("SJGR"),d=n("vE43");let u=(()=>{class t{constructor(t,e,n,a,s,u,p,m){this._formService=t,this._route=e,this._customComponentService=n,this._cacessoService=a,this._popupService=s,this._equipamentoService=u,this._pevService=p,this._pontoService=m,this.title="Sa\xedda Manual",this.editMode=!1,this.dataModel=new r.a({}),this.saveActionEmitter=new o.EventEmitter,this.cancelActionEmitter=new o.EventEmitter,this.selectPonto=t=>{t&&"object"==typeof t.selectedItem&&null!==t.selectedItem&&this._equipamentoService.getEquipamento({ativo:1,ponto_id:t.selectedItem.ponto_id},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("equipamento_id",{dataSource:t}),this.formComponent.setFieldOption("equipamento_id",{disabled:!1})})},this.selectionPEV=t=>{this.formComponent.setFieldOption("prestador_servico",t?{value:t.prestador_servico.cnpj_cpf_cuit+" - "+t.prestador_servico.nome}:{value:" "})},this.items=[i.a.Group("Dados da sa\xedda",[i.a.Autocomplete2({dataField:"pev_search",colSpan:12,editorOptions:{valueExpr:"display_name",showClearButton:!0,maxLength:100}},this,"pev_id","search",c.a,"pev_id",new d.a({params:{ativo:1}},this._pevService,this._pevService.getPEVAutocomplete),this.selectionPEV),i.a.TextBox({dataField:"prestador_servico",colSpan:6,editorOptions:{maxLength:50,disabled:!0}}),i.a.EmptyBox(6),i.a.DateBox({dataField:"data_ocorrencia",colSpan:6,editorOptions:{type:"datetime",displayFormat:"dd/MM/yyyy HH:mm:ss",width:"100%"}}),i.a.EmptyBox(6),i.a.SelectBox({dataField:"ponto_id",colSpan:6,editorOptions:{valueExpr:"ponto_id",displayExpr:"descricao",maxLength:50,onSelectionChanged:this.selectPonto}}),i.a.EmptyBox(6),i.a.SelectBox({dataField:"equipamento_id",colSpan:6,editorOptions:{valueExpr:"equipamento_id",disabled:!0,displayExpr:"descricao",maxLength:50}}),i.a.EmptyBox(6),i.a.TextArea({dataField:"observacao",colSpan:12,editorOptions:{maxLength:200}})])],this._formService.formContext[l.a.SAIDA_MANUAL_PEV_FORM]=this,this.context=l.a.SAIDA_MANUAL_PEV_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._maxDateInterval=setInterval(()=>{this.formComponent.setFieldOption("data_ocorrencia",{max:new Date})},3e4)}ngOnDestroy(){clearInterval(this._maxDateInterval)}popupShow(){this._pontoService.getPonto({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("ponto_id",{dataSource:t})})}start(t){const e=t.params;e&&e.pev_id&&(this.formComponent.setFieldOption("data_ocorrencia",{min:new Date(e.data_entrada),max:new Date}),this._pevService.getPEV({pev_id:e.pev_id},{resultset:!0}).subscribe(t=>{const e=t[0];Object.assign(this.formComponent.dataModel,{pev_id:e.pev_id}),this.formComponent.setFieldOption("prestador_servico",{value:e.prestador_servico.cnpj_cpf_cuit+" - "+e.prestador_servico.nome}),this.formComponent.setFieldOption("pev_search",e.identificador?{value:e.identificador,disabled:!0}:{value:e.placa_veiculo,disabled:!0})}))}saveSaidaAction(t){Object.assign(this.formComponent.dataModel,{historico:"ACESSO/PASSAGEM - SA\xcdDA MANUAL PEV",tipo_ocorrencia_id:3,data_ocorrencia:new Date(t.ev.data.data_ocorrencia),sentido:"SAIDA"}),this.saveActionEmitter.emit()}cancelSaidaManualAction(t){this.cancelActionEmitter.emit()}}return a.__decorate([Object(s.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(s.e)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(s.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"saveSaidaAction",null),a.__decorate([Object(s.e)("formComponent","cancelAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cancelSaidaManualAction",null),t})()},XCk2:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},Y32p:function(t,e,n){"use strict";var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("bJFq"),p=n("ZoiP"),m=n("mKV9");class h extends m.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.excluirAction=new a.EventEmitter,this.editarAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this.vincularCartaoAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.biometriaAction=new a.EventEmitter,this._customComponentService.customComponentContext.pessoaFisicaCaViewOptions=this,this.setAcao([""])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){Object(u.confirm)(`Voc\xea tem certeza que deseja remover a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.excluirAction.emit(t)})}ativar(t){Object(u.confirm)(`Voc\xea tem certeza que deseja ativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.ativarAction.emit(t)})}inativar(t){Object(u.confirm)(`Voc\xea tem certeza que deseja inativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.inativarAction.emit(t)})}biometria(t){this.biometriaAction.emit(t)}vincularCartao(t){this.vincularCartaoAction.emit(t)}}n.d(e,"a",(function(){return x}));var _=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,35,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"],["name","editar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Biometria"],["icon","icon kmm-icon-fingerprint-solid"],["name","biometria"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.biometria(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"],["name","excluir"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](26,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](30,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](31,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Vincular Cart\xe3o"],["icon","icon kmm-icon-id-card"],["name","Vincular Cart\xe3o"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.vincularCartao(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](35,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null)],(function(t,e){t(e,5,0,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!e.context.$implicit.data.ativo,"Biometria","icon kmm-icon-fingerprint-solid"),t(e,20,0,"Excluir","fas fa-trash-alt"),t(e,25,0,e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,30,0,!e.context.$implicit.data.ativo,"Inativar","fas fa-times"),t(e,35,0,"Vincular Cart\xe3o","icon kmm-icon-id-card")}),null)}function v(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,f)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function g(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,v,_)),a["\u0275did"](1,49152,null,0,h,[p.a,a.Injector],null,null)],null,null)}var x=a["\u0275ccf"]("ng-component",h,g,{},{},[])},YVxZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("kZht");n("ZoiP");class o{constructor(t){this._customComponentService=t,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.bloqueioPVView=this}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},"ZB+R":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.openLogAction=new a.EventEmitter,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this.cancelarAction=new a.EventEmitter,this.disponibilizarAction=new a.EventEmitter,this.rouboAction=new a.EventEmitter,this.extravioAction=new a.EventEmitter,this._customComponentService.customComponentContext.cartaoView=this,this.setAcao(["CACESSO_EDITAR_CARTAO","CACESSO_EXCLUIR_CARTAO","CACESSO_CANCELAR_CARTAO","CACESSO_DISPONIBILIZAR_CARTAO","CACESSO_INDISPONIBILIZAR_CARTAO","CACESSO_REROUBO_CARTAO","CACESSO_REEXTRAVIO_CARTAO"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){this.excluirAction.emit(t)}inativar(t){this.inativarAction.emit(t)}ativar(t){this.ativarAction.emit(t)}cancelar(t){this.cancelarAction.emit(t)}disponibilizar(t,e){this.disponibilizarAction.emit({identificador:t.identificador,cartao_id:t.cartao_id,situacao_id:e})}roubo(t){this.rouboAction.emit(t)}extravio(t){this.extravioAction.emit(t)}}},aOcY:function(t,e,n){"use strict";var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r");class r{ngOnInit(){}}n.d(e,"a",(function(){return m}));var s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](2,null,["",""]))],null,(function(t,e){t(e,2,0,e.context.$implicit.descricao)}))}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](2,278528,null,0,o.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit.data.pessoa_modalidade)}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,d)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"cellTemplate")}),null)}function p(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,s)),a["\u0275did"](1,114688,null,0,r,[],null,null)],(function(t,e){t(e,1,0)}),null)}var m=a["\u0275ccf"]("ng-component",r,p,{},{},[])},b0gj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("Tqkf");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this.cacessoService=e,this.localidadeService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set localidade_id(t){this.logTitle="Log - Localidade",this._localidade_id=t,this._localidade_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get localidade_id(){return this._localidade_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("localidade_id",!1,"Localidade ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this.localidadeService.getLog({fieldvalue:this.localidade_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Localidade, ID: "+this.localidade_id+"): "+t.data.descricao,origem:"area",id:this.localidade_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},bPlT:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{constructor(){}}},bTrG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n("1ugp");var a=n("Dm1H"),o=(n("3cT2"),n("o/uR"));n("1L3/"),n("J6U6");class i{constructor(t,e){this._cacessoService=t,this._gridService=e,this.visible=!1,this.title="Visualizar Ocorr\xeancias",this._gridData=[],this.context=o.a.OCORRENCIA_PAINEL_GRID,this.columns=[a.a.ID({dataField:"ocorrencia_id"}),a.a.Text({dataField:"historico",caption:"Hist\xf3rico"}),a.a.Boolean({dataField:"manual",caption:"Manual"}),a.a.Datetime({dataField:"data_ocorrencia",caption:"Data da ocorr\xeancia"}),a.a.Text({dataField:"sentido",caption:"Sentido"}),a.a.Text({dataField:"tipo_ocorrencia",caption:"Tipo de Ocorr\xeancia"}),a.a.Text({dataField:"equipamento.descricao",caption:"Equipamento (descri\xe7\xe3o)"}),a.a.Text({dataField:"identificador_cartao",caption:"Cart\xe3o (identificador)"}),a.a.Text({dataField:"cartao.tipo",caption:"Cart\xe3o (tipo)"}),a.a.Text({dataField:"cartao.categoria",caption:"Cart\xe3o (categoria)"})],this._gridService.gridContext[o.a.OCORRENCIA_PAINEL_GRID]=this}set customColumns(t){this._customColumns=t,t.forEach((t,e)=>{this.columns.push(t)})}get customColumns(){return this._customColumns}set gridData(t){this._gridData=t,this._gridData.forEach(t=>{Object.assign(t,{manual:1===t.manual})}),null!=t[0]&&(t[0].equipamento_id?this.title=t[0].equipamento.descricao:t[0].pessoa?this.title=t[0].pessoa.nome:t[0].pev&&(this.title=t[0].pev.identificador?t[0].pev.identificador:t[0].pev.placa_veiculo)),0===t.length&&(this.title="Visualizar Ocorr\xeancias"),this.popup.title=this.title,this.grid.dxDataGrid.instance&&this.grid.dxDataGrid.instance.option("dataSource",t)}get gridData(){return this._gridData}}},bgJy:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("D57K"),o=n("3DLZ"),i=n("o/uR"),l=n("ndsz"),r=n("IvV6");let s=(()=>{class t{constructor(t,e){this._formService=t,this._departamentoService=e,this.editMode=!1,this.dataModel=new l.a,this.title="Cadastro de Localidade",this.items=[o.a.Group("Dados para o v\xednculo",[o.a.SelectBox({dataField:"departamento_id",editorOptions:{displayExpr:"descricao",valueExpr:"departamento_id",maxlength:100,elementAttr:{id:"departamento-form-descricao"}}}),o.a.TextBox({dataField:"descricao",editorOptions:{maxLength:100}}),o.a.CheckBox({dataField:"ativo",editorOptions:{disabled:!0,text:"Ativo"},label:{visible:!1}}),o.a.TextArea({dataField:"observacao",editorOptions:{maxLength:300}})])],this._formService.formContext[i.a.LOCALIDADE_FORM]=this,this.context=i.a.LOCALIDADE_FORM}ngOnInit(){this.popup.title=this.title}ngOnDestroy(){}ngAfterViewInit(){}popupShow(){this._departamentoService.getDepartamento({ativo:1}).subscribe(t=>{this.formComponent.setFieldOption("departamento_id",{dataSource:t.departamento})})}}return a.__decorate([Object(r.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),t})()},cFZy:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("Fwx9"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){t(e,5,0,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,"Excluir","fas fa-trash-alt"),t(e,20,0,1==e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,0==e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},cIxG:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("w+uw"),o=n.n(a),i=(n("J6U6"),n("M7cE"),n("9zi2")),l=(n("qO5a"),n("/caa")),r=n("QSHt");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this._cartaoService=e,this._cacessoService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set cartao_id(t){this.logTitle="Log - Cart\xe3o",this._cartao_id=t,this._cartao_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get cartao_id(){return this._cartao_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("cartao_id",!1,"Cart\xe3o ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this._cartaoService.getLog({fieldvalue:this.cartao_id})}insLog(t){this._cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Cart\xe3o, ID: "+this.cartao_id+"): "+t.data.descricao,origem:"Cart\xe3o",id:this.cartao_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},cp8T:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("t+tQ"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,30,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](26,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Vincular Cart\xe3o"],["icon","icon kmm-icon-id-card"],["name","Vincular Cart\xe3o"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.vincularCartao(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](30,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_PEV,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_PEV,"Excluir","fas fa-trash-alt"),t(e,20,0,!n.ACAO.CACESSO_STATUS_PEV||1==e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,!n.ACAO.CACESSO_STATUS_PEV||0==e.context.$implicit.data.ativo,"Inativar","fas fa-times"),t(e,30,0,!n.ACAO.CACESSO_CARTAO_PEV,"Vincular Cart\xe3o","icon kmm-icon-id-card")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},d1tj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{constructor(){}}},diSr:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("K+TM"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_GRUPO_ACESSO,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_GRUPO_ACESSO,"Excluir","fas fa-trash-alt"),t(e,20,0,!n.ACAO.CACESSO_STATUS_GRUPO_ACESSO||e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,!n.ACAO.CACESSO_STATUS_GRUPO_ACESSO||!e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-grupo-acesso-view-column-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("app-grupo-acesso-view-column-component",u.a,f,{},{},[])},eI0J:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("E8iS");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this.cacessoService=e,this._equipamentosService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set equipamento_id(t){this.logTitle="Log - Equipamento",this._equipamento_id=t,this._equipamento_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get equipamento_id(){return this._equipamento_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("equipamento_id",!1,"Equipamento ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this._equipamentosService.getLog({fieldvalue:this.equipamento_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Equipamento, ID: "+this.equipamento_id+"): "+t.data.descricao,origem:"Equipamento",id:this.equipamento_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},epBo:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("9zi2"),o=(n("qO5a"),n("/caa")),i=n("QSHt");n("Yz5n");class l extends o.a{constructor(t,e,n){super(t),this.factoryResolver=t,this._grupoService=e,this._formsService=n,this.visible=!1,this.dataModel=new i.a,this.webUrl=""}set grupo_id(t){this.logTitle="Log - Grupo de Acesso",this._grupo_id=t,this._grupo_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get grupo_id(){return this._grupo_id}getColumns(){return[a.a.numberColumn("log_id",!1,"Log ID"),a.a.numberColumn("grupo_id",!1,"Grupo ID"),a.a.datetimeColumn("date_insert",!0,"Inserido em",120),a.a.textColumn("user_insert",!0,"Usu\xe1rio",150),a.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),a.a.textColumn("evento_abreviatura",!0,"Evento"),a.a.numberColumn("evento_id",!1,"Evento ID"),a.a.textColumn("origem",!1)]}getDataSource(){return this._grupoService.getLog({fieldvalue:this.grupo_id})}}},f5os:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("/Jab"),f=n("J6U6"),v=n("M7cE"),g=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,x)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-cartao-tipo-log-grid-component",[],null,null,null,b,g)),a["\u0275did"](1,114688,null,0,_.a,[a.ComponentFactoryResolver,f.a,v.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-cartao-tipo-log-grid-component",_.a,C,{context:"context",visible:"visible",logTitle:"logTitle",_cartao_tipo_id:"_cartao_tipo_id",cartao_tipo_id:"cartao_tipo_id"},{close:"close"},[])},fE2N:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("LZ8Z"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,15,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Reiniciar"],["icon","fas fa-sync-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.refresh(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver logs permiss\xe3o"],["icon","fas fa-print"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.logsAcesso(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver logs equipamento"],["icon","fas fa-wrench"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.logsEquipamento(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null)],(function(t,e){t(e,5,0,!e.component.ACAO.CACESSO_REINICIAR_SUPERVISORIO,"Reiniciar","fas fa-sync-alt"),t(e,10,0,"Ver logs permiss\xe3o","fas fa-print"),t(e,15,0,"Ver logs equipamento","fas fa-wrench")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},fIgw:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},fLsA:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("ZB+R"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,35,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Cancelar"],["icon","fas fa-times"],["name","Cancelar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.cancelar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Disponibilizar"],["icon","icon kmm-icon-checked"],["name","Disponibilizar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.disponibilizar(t.context.$implicit.data,2)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Indisponibilizar"],["icon","fas fa-ban"],["name","Indisponibilizar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.disponibilizar(t.context.$implicit.data,1)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](26,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Registrar Roubo"],["icon","fas fa-unlock-alt"],["name","Registrar Roubo"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.roubo(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](30,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](31,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Registrar Extravio"],["icon","icon kmm-icon-round-error-symbol"],["name","Registrar Extravio"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.extravio(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](35,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_CARTAO||""!=e.context.$implicit.data.data_cancelamento,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_CANCELAR_CARTAO||4==e.context.$implicit.data.situacao_id||""!=e.context.$implicit.data.data_cancelamento,"Cancelar","fas fa-times"),t(e,20,0,!n.ACAO.CACESSO_DISPONIBILIZAR_CARTAO||2===e.context.$implicit.data.situacao_id||""!=e.context.$implicit.data.data_cancelamento,"Disponibilizar","icon kmm-icon-checked"),t(e,25,0,!n.ACAO.CACESSO_INDISPONIBILIZAR_CARTAO||1===e.context.$implicit.data.situacao_id||""!=e.context.$implicit.data.data_cancelamento,"Indisponibilizar","fas fa-ban"),t(e,30,0,!n.ACAO.CACESSO_REROUBO_CARTAO||5==e.context.$implicit.data.situacao_id||""!=e.context.$implicit.data.data_cancelamento,"Registrar Roubo","fas fa-unlock-alt"),t(e,35,0,!n.ACAO.CACESSO_REEXTRAVIO_CARTAO||6==e.context.$implicit.data.situacao_id||""!=e.context.$implicit.data.data_cancelamento,"Registrar Extravio","icon kmm-icon-round-error-symbol")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},gF3v:function(t,e,n){"use strict";var a=n("kZht"),o=n("vidM"),i=n("Du4r"),l=n("ZoiP");class r{constructor(t){this._customComponentService=t,this._customComponentService.customComponentContext.horasPresenteView=this}getColorClass(t){return 24===t?"is-danger":12===t?"is-warning":8===t?"is-gray":"is-info"}getText(t){return 24===t?"+24 horas":12===t?"+12 horas":8===t?"+8 horas":" -8 horas"}}n.d(e,"a",(function(){return m}));var s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),a["\u0275ted"](2,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,1,0,a["\u0275inlineInterpolate"](1,"tag is-full ",n.getColorClass(e.context.$implicit.value),"")),t(e,2,0,n.getText(e.context.$implicit.value))}))}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),a["\u0275ted"](2,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,1,0,a["\u0275inlineInterpolate"](1,"tag is-full ",n.getColorClass(e.context.$implicit.data.grupo),"")),t(e,2,0,n.getText(e.context.$implicit.data.grupo))}))}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](1,16384,null,0,o.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null),(t()(),a["\u0275and"](16777216,null,null,1,null,d)),a["\u0275did"](3,16384,null,0,o.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,"groupCellTemplate"),t(e,3,0,n.templateName)}),null)}function p(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,s)),a["\u0275did"](1,49152,null,0,r,[l.a],null,null)],null,null)}var m=a["\u0275ccf"]("ng-component",r,p,{},{},[])},gemI:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("J6U6"),n("J7rV");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this._rotaService=e,this._cacessoService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set rota_id(t){this.logTitle="Log - Rota de Acesso",this._rota_id=t,this._rota_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get rota_id(){return this._rota_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("rota_id",!1,"Rota de Acesso ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this._rotaService.getLog({fieldvalue:this.rota_id})}insLog(t){this._cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Rota Acesso, ID: "+this.rota_id+"): "+t.data.descricao,origem:"rota",id:this.rota_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},gnDO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n("1ugp");var a=n("Dm1H"),o=(n("3cT2"),n("o/uR"));n("1L3/"),n("J6U6");class i{constructor(t,e){this._cacessoService=t,this._gridService=e,this.visible=!1,this.title="Visualizar Ocorr\xeancias ",this._gridData=[],this.context=o.a.OCORRENCIA_EQUIPAMENTO_GRID,this.columns=[a.a.ID({dataField:"log_id",width:10}),a.a.Datetime({dataField:"data_ocorrencia",caption:"Data da ocorr\xeancia",width:20}),a.a.Text({dataField:"descricao",caption:"Equipamento (descri\xe7\xe3o)"}),a.a.Text({dataField:"mensagem",caption:"Ocorr\xeancia"})],this._gridService.gridContext[o.a.OCORRENCIA_EQUIPAMENTO_GRID]=this}set customColumns(t){this._customColumns=t,t.forEach((t,e)=>{this.columns.push(t)})}get customColumns(){return this._customColumns}set gridData(t){this._gridData=t,null!=t[0]&&(this.title=t[0].descricao),this.popup.title=this.title,this.grid.dxDataGrid.instance&&this.grid.dxDataGrid.instance.option("dataSource",t)}get gridData(){return this._gridData}}},"h+4L":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("COfM"),d=n("1ugp"),u=n("3cT2"),p=n("zhvJ"),m=n("bTrG"),h=n("J6U6"),_=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{grid:0}),(t()(),a["\u0275eld"](2,0,null,null,5,"app-popup-form",[["height","90%"],["width","90%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,2,"app-grid-component",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[2,4],["grid",4]],1,d.a,[a.ComponentFactoryResolver,u.a,p.a],{contextName:[0,"contextName"],popup:[1,"popup"]},null),a["\u0275qud"](603979776,4,{templateContent:1})],(function(t,e){var n=e.component;t(e,3,0,"90%","90%"),t(e,6,0,n.context,!0)}),null)}function v(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ocorrencia-painel-grid-component",[],null,null,null,f,_)),a["\u0275did"](1,49152,null,0,m.a,[h.a,u.a],null,null)],null,null)}var g=a["\u0275ccf"]("app-ocorrencia-painel-grid-component",m.a,v,{_pessoa_id:"_pessoa_id",customColumns:"customColumns",gridData:"gridData"},{},[])},iaD5:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("yglO"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,55,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"],["name","editar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Biometria"],["icon","icon kmm-icon-fingerprint-solid"],["name","biometria"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.biometria(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"],["name","excluir"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](26,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](30,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](31,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Vincular Cart\xe3o"],["icon","icon kmm-icon-id-card"],["name","Vincular Cart\xe3o"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.vincularCartao(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](35,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](36,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Documento"],["icon","fas fa-file-alt"],["name","Documento"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.documento(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](40,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](41,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Foto"],["icon","fas fa-camera"],["name","Foto"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.imagem(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](45,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](46,0,null,null,4,"dx-button",[["class","grid-options-button"],["icon","fas fa-gavel"],["name","Autoridade"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.autoridade(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](50,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](51,0,null,null,4,"dx-button",[["class","grid-options-button"],["icon","fas fa-print"],["name","Imprimir Tag"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.imprimirTag(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](55,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_PESSOA,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_BIOMETRIA_PESSOA||!e.context.$implicit.data.ativo,"Biometria","icon kmm-icon-fingerprint-solid"),t(e,20,0,!n.ACAO.CACESSO_EXCLUIR_PESSOA,"Excluir","fas fa-trash-alt"),t(e,25,0,!n.ACAO.CACESSO_STATUS_PESSOA||e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,30,0,!n.ACAO.CACESSO_STATUS_PESSOA||!e.context.$implicit.data.ativo,"Inativar","fas fa-times"),t(e,35,0,!n.ACAO.CACESSO_CARTAO_PESSOA||!e.context.$implicit.data.ativo,"Vincular Cart\xe3o","icon kmm-icon-id-card"),t(e,40,0,!n.ACAO.CACESSO_DOCUMENTO_PESSOA||!e.context.$implicit.data.ativo,"Documento","fas fa-file-alt"),t(e,45,0,!n.ACAO.CACESSO_FOTO_PESSOA||!e.context.$implicit.data.ativo,"Foto","fas fa-camera"),t(e,50,0,!n.ACAO.CACESSO_AUTORIDADE_PESSOA,e.context.$implicit.data.autoridade?"Remover Autoridade":"Adicionar Autoridade","fas fa-gavel"),t(e,55,0,"Imprimir Tag","fas fa-print")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},k6vy:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("s0jE"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,10,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Log de acesso"],["icon","fas fa-file-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Sa\xedda Manual"],["icon","fas fa-arrow-left"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.saidaManual(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,"Log de acesso","fas fa-file-alt"),t(e,10,0,!n.ACAO.CACESSO_SAIDA_PEV_PRESENTE,"Sa\xedda Manual","fas fa-arrow-left")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},lsg0:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.rotaView=this,this.setAcao(["CACESSO_EDITAR_ROTA","CACESSO_EXCLUIR_ROTA","CACESSO_STATUS_ROTA"])}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},mPZ1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("kZht"),o=n("An66"),i=(n("ZoiP"),n("mKV9"));class l extends i.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.desvincularAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this._customComponentService.customComponentContext.pessoaCartaoViewOptions=this,this.setAcao([""])}ngOnInit(){this.day=new o.DatePipe("en").transform(new Date((new Date).getTime()+864e5),"yyyy-MM-dd hh:mm:ss")}openLog(t){this.openLogAction.emit(t)}desvincularPessoa(t){this.desvincularAction.emit(t)}}},nHRm:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("zhvJ");class o{constructor(t=!0,e){this._presenterContext=t,this._injector=e,this.subscriptions=[]}ngOnInit(){this.dataSource||a.a.warn("Propriedade dataSource n\xe3o encontrada!"),this._gridService?this._gridService.setCustomColumns(this):a.a.warn("_gridService n\xe3o implementado!"),this._presenterContext&&(this._presenterService?this._presenterService.presenterContext=this:a.a.warn("_presenterService n\xe3o implementado!")),this.onInit&&this.onInit.call(this),this._popupService?this._popupService.addItems(this):a.a.warn("_popupService n\xe3o implementado!")}ngAfterViewInit(){this.afterViewInit&&this.afterViewInit.call(this),this.wait_notification?this.notifyAction=this._formService.notifyComponent.subscribe(t=>{t.sender===this.wait_notification&&t.receiver===this.contextName&&this.subscribeActions()}):this.subscribeActions()}ngOnDestroy(){this.onDestroy&&this.onDestroy.call(this),this.subscriptions.forEach((t,e)=>{t.unsubscribe()}),this.wait_notification&&this.notifyAction.unsubscribe()}subscribeActions(){Object.keys(this.__proto__).forEach((t,e)=>{-1!==t.search("__action_")&&(this[this[t].service]?this.subscriptions.push(this[this[t].service].getAction(this[t].context,this[t].action).subscribe(e=>{this[this[t].callback].call(this,e)})):a.a.error(`Servi\xe7o ${this[t].service}.${this[t].action} n\xe3o encontrado ou sem permiss\xe3o para acessar esse item!`))})}}},"nS/P":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("lsg0"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_ROTA,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_ROTA,"Excluir","fas fa-trash-alt"),t(e,20,0,!n.ACAO.CACESSO_STATUS_ROTA||e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,!n.ACAO.CACESSO_STATUS_ROTA||!e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},nbs2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");n("txcG");class s extends l.a{constructor(t,e,n,a){super(t),this.factoryResolver=t,this.cacessoService=e,this.areaService=n,this._formsService=a,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set area_id(t){this.logTitle="Log - \xc1rea",this._area_id=t,this._area_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get area_id(){return this._area_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("area_id",!1,"\xc1rea ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this.areaService.getLog({fieldvalue:this.area_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: \xc1rea, ID: "+this.area_id+"): "+t.data.descricao,origem:"\xc1rea",id:this.area_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},ncVd:function(t,e,n){"use strict";var a=n("kZht"),o=n("XH80"),i=n("C6xa"),l=n("1VvW"),r=n("H9hb"),s=n("Du4r"),c=n("ZDzY"),d=n("wqPB"),u=n("qV/d"),p=n("/U5Z"),m=n("ENSU"),h=n("vidM"),_=n("J6U6"),f=n("w+uw"),v=n.n(f),g=n("9zi2"),x=n("qO5a"),b=n("/caa"),C=n("QSHt");class O extends b.a{constructor(t,e,n){super(t),this.factoryResolver=t,this.cacessoService=e,this._formsService=n,this.visible=!1,this.dataModel=new C.a,this.webUrl=""}set ocorrencia_id(t){this.logTitle="Log - Ocorr\xeancias de Acesso",this._ocorrencia_id=t,this._ocorrencia_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get ocorrencia_id(){return this._ocorrencia_id}getColumns(){return[g.a.numberColumn("log_id",!1,"ID"),g.a.numberColumn("ocorrencia_id",!1,"ID"),g.a.datetimeColumn("date_insert",!0,"Inserido em",120),g.a.textColumn("user_insert",!0,"Usu\xe1rio",150),g.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),g.a.textColumn("evento.abbreviation",!0,"Evento"),g.a.numberColumn("evento.low_value",!1,"Evento ID"),g.a.textColumn("origem",!1)]}getDataSource(){return this.cacessoService.getLogOcorrenciaAcesso({ocorrencia_id:this.ocorrencia_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Ocorr\xeancia de Acesso, ID: "+this.ocorrencia_id+"): "+t.data.descricao,origem:"Ocorr\xeancia Acesso",id:this.ocorrencia_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{v()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}n.d(e,"a",(function(){return A}));var S=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function D(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,1,"app-log",[],null,null,null,o.c,o.b)),a["\u0275did"](2,49152,null,0,i.a,[l.p],{columns:[0,"columns"],dataSource:[1,"dataSource"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.columns,n.dataSource)}),null)}function T(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"dx-popup",[["height","95%"],["width","70%"]],null,[[null,"onHidden"]],(function(t,e,n){var a=!0;return"onHidden"===e&&(a=!1!==t.component.onClose()&&a),a}),r.c,r.b)),a["\u0275prd"](512,null,s.DxTemplateHost,s.DxTemplateHost,[]),a["\u0275prd"](512,null,c.WatcherHelper,c.WatcherHelper,[]),a["\u0275prd"](512,null,d.IterableDifferHelper,d.IterableDifferHelper,[a.IterableDiffers]),a["\u0275prd"](512,null,u.NestedOptionHost,u.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,1,p.DxPopupComponent,[a.ElementRef,a.NgZone,s.DxTemplateHost,c.WatcherHelper,d.IterableDifferHelper,u.NestedOptionHost,m.TransferState,a.PLATFORM_ID],{closeOnOutsideClick:[0,"closeOnOutsideClick"],dragEnabled:[1,"dragEnabled"],height:[2,"height"],title:[3,"title"],visible:[4,"visible"],width:[5,"width"]},{onHidden:"onHidden"}),a["\u0275qud"](603979776,1,{toolbarItemsChildren:1}),(t()(),a["\u0275and"](16777216,null,0,1,null,D)),a["\u0275did"](8,16384,null,0,h.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,s.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!0,!0,"95%",n.logTitle,n.visible,"70%"),t(e,8,0,"content")}),null)}function E(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ocorrencia-acesso-log-grid-component",[],null,null,null,T,S)),a["\u0275did"](1,114688,null,0,O,[a.ComponentFactoryResolver,_.a,x.a],null,null)],(function(t,e){t(e,1,0)}),null)}var A=a["\u0275ccf"]("app-ocorrencia-acesso-log-grid-component",O,E,{context:"context",visible:"visible",logTitle:"logTitle",_ocorrencia_id:"_ocorrencia_id",ocorrencia_id:"ocorrencia_id"},{close:"close"},[])},nsmv:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("mPZ1"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,10,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Desvincular Pessoa"],["icon","fas fa-times"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.desvincularPessoa(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,"Ver Logs","fas fa-file"),t(e,10,0,e.context.$implicit.data.data_fim<=n.day,"Desvincular Pessoa","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,114688,null,0,u.a,[p.a,a.Injector],null,null)],(function(t,e){t(e,1,0)}),null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},oXyN:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("D57K"),o=n("kZht"),i=n("3DLZ"),l=n("o/uR"),r=n("Kdwl"),s=n("IvV6"),c=n("0s5b");let d=(()=>{class t{constructor(t,e,n,a,s){this._formService=t,this._pontoService=e,this._rotaService=n,this._customComponentService=a,this._messageService=s,this.editMode=!1,this.dataModel=new r.a({}),this.title="Cadastro de Rota",this.saveDataAction=new o.EventEmitter,this.addedItems=new Array,this.removedItems=new Array,this.items=[i.a.Group("Dados da Rota",[i.a.TextBox({dataField:"descricao",colSpan:12,editorOptions:{}}),i.a.Template("rotaPonto",c.a,12)])],this._formService.formContext[l.a.ROTA_FORM]=this,this.context=l.a.ROTA_FORM}_getRotaPontoView(){return this._customComponentService.customComponentContext.rotaPontoGridView}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}start(t){t.params.rota_id?(this.editMode=!0,this.formComponent.editMode=!0,this._rotaService.getRota({rota_id:t.params.rota_id},{form:!0}).subscribe(t=>{t&&(Object.assign(this.formComponent.dataModel,t),this._getRotaPontoView().rota_ponto=t.rota_ponto)})):(this.editMode=!1,this.formComponent.editMode=!1,this._getRotaPontoView().rota_ponto=new Array)}saveAction(){const t=Object.assign({},this.formComponent.dataModel),e=this._getRotaPontoView();if(Object.assign(t,{rota_ponto:e.removed.concat(e.rota_ponto)}),e.rotaPontoGrid.instance.hasEditData())return this._messageService.notify("Voc\xea tem dados n\xe3o salvos na tabela!","warning","rota-form hasEditData",t,5e3),void(this.formComponent.formBusy=!1);this.saveDataAction.emit({dataModel:t,editMode:this.formComponent.editMode})}hidePopup(){const t=this._getRotaPontoView();t.rotaPontoGrid.instance.cancelEditData(),t.rotaPontoGrid.instance.closeEditCell(),t.rota_ponto=[],t.removed=[]}}return a.__decorate([Object(s.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(s.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"saveAction",null),a.__decorate([Object(s.e)("popup","hideAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"hidePopup",null),t})()},ogrM:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("3hCg"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){t(e,5,0,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,"Excluir","fas fa-trash-alt"),t(e,20,0,1==e.context.$implicit.data.ativo,"Ativar","fas fa-check"),t(e,25,0,0==e.context.$implicit.data.ativo,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},omuB:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},opbP:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("D57K"),o=n("3DLZ"),i=n("o/uR"),l=n("kqmg"),r=n("IvV6");let s=(()=>{class t{constructor(t,e){this._formService=t,this._areaService=e,this.editMode=!1,this.title="Cadastro de Departamento",this.dataModel=new l.a,this.items=[o.a.Group("Dados para o v\xednculo",[o.a.SelectBox({dataField:"area_id",editorOptions:{displayExpr:"descricao",valueExpr:"area_id",maxlength:100,elementAttr:{id:"area-form-descricao"}}}),o.a.TextBox({dataField:"descricao",editorOptions:{maxLength:100}}),o.a.CheckBox({dataField:"ativo",editorOptions:{disabled:!0,text:"Ativo"},label:{visible:!1}}),o.a.TextArea({dataField:"observacao",editorOptions:{maxLength:300}})])],this._formService.formContext[i.a.DEPARTAMENTO_FORM]=this,this.context=i.a.DEPARTAMENTO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}popupShow(){const t=Object.assign({},this.formComponent.dataModel);this._areaService.getArea({ativo:1}).subscribe(t=>{this.formComponent.setFieldOption("area_id",{dataSource:t.area})}),this.formComponent.editMode&&Object.assign(this.formComponent.dataModel,{area_id:t.area.area_id})}}return a.__decorate([Object(r.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),t})()},pYLY:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("qdLt"),f=n("ZoiP"),v=n("Er32"),g=n("PofR"),x=n("zDiY"),b=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","60%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"60%","50%"),t(e,6,0,!0,n.context,!0)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-pev-form-component",[],null,null,null,C,b)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,l.a,f.a,v.a,g.a,x.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-pev-form-component",_.a,O,{context:"context"},{},[])},pZ3I:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("qzcJ"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_AREA,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_AREA,"Excluir","fas fa-trash-alt"),t(e,20,0,1==e.context.$implicit.data.ativo||!n.ACAO.CACESSO_STATUS_AREA,"Ativar","fas fa-check"),t(e,25,0,0==e.context.$implicit.data.ativo||!n.ACAO.CACESSO_STATUS_AREA,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},qL4A:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("oXyN"),f=n("6ywV"),v=n("J7rV"),g=n("ZoiP"),x=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","65%"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"65%","50%"),t(e,6,0,!0,n.context,!0)}),null)}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-rota-form-component",[],null,null,null,b,x)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a,v.a,g.a,m.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=a["\u0275ccf"]("app-rota-form-component",_.a,C,{context:"context"},{},[])},qdLt:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("D57K"),o=n("kZht"),i=n("o/uR"),l=n("IvV6"),r=n("vE43"),s=n("SJGR"),c=n("RvQh"),d=n("3DLZ");let u=(()=>{class t{constructor(t,e,n,a,l,r){this._formService=t,this._route=e,this._customComponentService=n,this._recintoService=a,this._pevService=l,this._veiculoTipoService=r,this.editMode=!1,this.dataModel=new s.a({}),this.title="Cadastro de Ve\xedculos Especiais - PEV",this.saveActionEmitter=new o.EventEmitter,this.searchLockBusy=!1,this.selectPessoa=t=>{t&&Object.assign(this.formComponent.dataModel,{prestador_servico_cpf_cuit:t.cnpj_cpf_cuit})},this.identificacaoOut=t=>{""===t.component.option("value")||null===t.component.option("value")||this.formComponent.editMode||(this.formComponent.setItems(this.formItems(!0,!1)),this.formComponent.setFieldOption("placa_veiculo",{value:null})),this.getVeiculos(),this.checkIdentificadorPlaca()},this.placaOut=t=>{""===t.component.option("value")||null===t.component.option("value")||this.formComponent.editMode||(this.formComponent.setItems(this.formItems(!1,!0)),this.formComponent.setFieldOption("identificador",{value:null})),this.checkIdentificadorPlaca()},this.items=[],this._formService.formContext[i.a.PEV_FORM]=this,this.context=i.a.PEV_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}initialize(){this.formComponent.setItems(this.formItems()),this.getVeiculos()}getVeiculos(){this._veiculoTipoService.getVeiculoTipo({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("tipo_veiculo_id",{dataSource:t})})}start(t){const e=t.params;e&&e.pev_id?(this.formComponent.editMode=!0,this._pevService.getPEV({pev_id:e.pev_id},{form:!0}).subscribe(t=>{Object.assign(this.formComponent.dataModel,t,{prestador_servico_id:t.prestador_servico.pessoa_id,pessoa_search:t.prestador_servico.nome}),this.initialize()})):(this.initialize(),this.formComponent.editMode=!1)}saveAction(){this.saveActionEmitter.emit({dataModel:this.formComponent.dataModel,editMode:this.formComponent.editMode})}checkIdentificadorPlaca(){this.formComponent.dataModel.identificador||this.formComponent.dataModel.placa_veiculo||this.formComponent.editMode||this.formComponent.setItems(this.formItems()),this.getVeiculos()}formItems(t=!0,e=!0){const n=[],a=[];let o=[],i=[],l=!1,s=!1;return this.formComponent.editMode?""!==this.formComponent.dataModel.placa_veiculo?(i=[{type:"required",message:"Placa \xe9 obrigat\xf3rio"}],l=!0):(o=[{type:"required",message:"Identificador \xe9 obrigat\xf3rio"}],s=!0):(t&&(o=[{type:"required",message:"Identificador \xe9 obrigat\xf3rio"}]),e&&(i=[{type:"required",message:"Placa \xe9 obrigat\xf3rio"}])),a.push(d.a.Autocomplete2({dataField:"pessoa_search",colSpan:8,label:{text:"Prestador de servi\xe7o"},editorOptions:{valueExpr:"display_name",showClearButton:!0,maxLength:100,tabIndex:0}},this,"prestador_servico_id","search",c.a,"pessoa_id",new r.a({params:{ativo:1,modalidade_id:11}},this._recintoService,this._recintoService.getPessoaPorModal),this.selectPessoa),d.a.EmptyBox(4),d.a.TextBox({dataField:"identificador",colSpan:4,editorOptions:{onFocusOut:this.identificacaoOut,tabIndex:1,disabled:l},validationRules:o}),d.a.TextBox({dataField:"placa_veiculo",colSpan:4,editorOptions:{tabIndex:2,disabled:s,onFocusOut:this.placaOut,mask:"LLL0A00"},validationRules:i}),d.a.EmptyBox(4),d.a.SelectBox({dataField:"tipo_veiculo_id",colSpan:4,editorOptions:{displayExpr:"descricao",valueExpr:"veiculo_tipo_id",maxLength:50,tabIndex:3}}),d.a.EmptyBox(8),d.a.CheckBox({dataField:"ativo",label:{visible:!1},editorOptions:{text:"Ativo",disabled:!0}})),n.push(d.a.Group("Dados do Ve\xedculos",a)),n}}return a.__decorate([Object(l.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(l.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"saveAction",null),t})()},qzcJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.openLogAction=new a.EventEmitter,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.areaView=this,this.setAcao(["CACESSO_EDITAR_AREA","CACESSO_EXCLUIR_AREA","CACESSO_STATUS_AREA"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){this.excluirAction.emit(t)}inativar(t){this.inativarAction.emit(t)}ativar(t){this.ativarAction.emit(t)}}},rTOc:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("opbP"),f=n("txcG"),v=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","65%"],["width","45%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"65%","45%"),t(e,6,0,!0,n.context,!0)}),null)}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-departamento-form-component",[],null,null,null,g,v)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var b=a["\u0275ccf"]("app-departamento-form-component",_.a,x,{context:"context"},{},[])},s0jE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.openLogAction=new a.EventEmitter,this.saidaManualAction=new a.EventEmitter,this._customComponentService.customComponentContext.pevsPresenteView=this,this.setAcao(["CACESSO_SAIDA_PEV_PRESENTE"])}openLog(t){this.openLogAction.emit(t)}saidaManual(t){this.saidaManualAction.emit(t)}}},"t+tQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=(n("ZoiP"),n("mKV9"));class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this.vincularCartaoAction=new a.EventEmitter,this._customComponentService.customComponentContext.pevView=this,this.setAcao(["CACESSO_EDITAR_PEV","CACESSO_EXCLUIR_PEV","CACESSO_STATUS_PEV","CACESSO_CARTAO_PEV"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){this.excluirAction.emit(t)}inativar(t){this.inativarAction.emit(t)}ativar(t){this.ativarAction.emit(t)}vincularCartao(t){this.vincularCartaoAction.emit(t)}}},tG7r:function(t,e,n){"use strict";var a=n("kZht"),o=n("An66"),i=n("aoCN"),l=n("Du4r"),r=n("ZDzY"),s=n("qV/d"),c=n("oqia"),d=n("ENSU"),u=n("vidM"),p=n("LpyD"),m=n("pIw2"),h=n("ZoiP"),_=n("qO5a"),f=n("zhvJ");n.d(e,"a",(function(){return S}));var v=a["\u0275crt"]({encapsulation:0,styles:[[".cursor[_ngcontent-%COMP%]{cursor:pointer}.icon-card[_ngcontent-%COMP%]{height:180px;width:200px;margin-left:10px}.display-none[_ngcontent-%COMP%]{display:none!important}.message-error[_ngcontent-%COMP%]{color:#e63900}.message-warning[_ngcontent-%COMP%]{color:#f7b217}.message-success[_ngcontent-%COMP%]{color:#29a329!important}.icon-inicial[_ngcontent-%COMP%]{color:#979b97}"]],data:{}});function g(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),a["\u0275ted"](1,null,[" Este cart\xe3o j\xe1 est\xe1 vinculado a esta ","! "]))],null,(function(t,e){t(e,1,0,e.component.entityType)}))}function x(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),a["\u0275ted"](1,null,[" Esta "," possui outro cart\xe3o vinculado (",") "]))],null,(function(t,e){var n=e.component;t(e,1,0,n.entityType,n.cartaoAtual)}))}function b(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,53,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,52,"div",[["class","icon-card"]],null,null,null,null,null)),(t()(),a["\u0275eld"](2,0,null,null,3,"i",[["class","fas fa-id-card fa-10x cursor"],["title","Ler Cart\xe3o"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ler(n)&&a),a}),null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](4,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](5,{"icon-inicial":0,"message-error":1,"message-success":2,"message-warning":3}),(t()(),a["\u0275eld"](6,0,null,null,4,"p",[["class","message-error"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](8,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](9,{"display-none":0}),(t()(),a["\u0275ted"](10,null,["",""])),(t()(),a["\u0275eld"](11,0,null,null,4,"p",[["class","message-success"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](13,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](14,{"display-none":0}),(t()(),a["\u0275ted"](-1,null,["Cart\xe3o lido com sucesso!"])),(t()(),a["\u0275eld"](16,0,null,null,9,"p",[["class","message-warning"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](18,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](19,{"display-none":0}),(t()(),a["\u0275and"](16777216,null,null,1,null,g)),a["\u0275did"](21,16384,null,0,o.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),a["\u0275and"](16777216,null,null,1,null,x)),a["\u0275did"](23,16384,null,0,o.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),a["\u0275eld"](24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),a["\u0275ted"](25,null,[" "," "])),(t()(),a["\u0275eld"](26,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](-1,null,["Identificador: "])),(t()(),a["\u0275eld"](28,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),a["\u0275ted"](29,null,["",""])),(t()(),a["\u0275eld"](30,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](-1,null,["Recinto: "])),(t()(),a["\u0275eld"](32,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),a["\u0275ted"](33,null,["",""])),(t()(),a["\u0275eld"](34,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](-1,null,["Validade: "])),(t()(),a["\u0275eld"](36,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),a["\u0275ted"](37,null,["",""])),(t()(),a["\u0275eld"](38,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](-1,null,["CRC Lido: "])),(t()(),a["\u0275eld"](40,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),a["\u0275ted"](41,null,["",""])),(t()(),a["\u0275eld"](42,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),a["\u0275ted"](-1,null,["CRC Calculado: "])),(t()(),a["\u0275eld"](44,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),a["\u0275ted"](45,null,["",""])),(t()(),a["\u0275eld"](46,0,null,null,1,"p",[["class","message-warning"]],null,null,null,null,null)),(t()(),a["\u0275ted"](47,null,["",""])),(t()(),a["\u0275eld"](48,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),a["\u0275eld"](49,0,null,null,4,"dx-button",[["class","ler-cartao-btn"],["icon","fas fa-address-card"],["text","Ler cart\xe3o"],["type","default"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.readCard()&&a),a}),i.b,i.a)),a["\u0275prd"](512,null,l.DxTemplateHost,l.DxTemplateHost,[]),a["\u0275prd"](512,null,r.WatcherHelper,r.WatcherHelper,[]),a["\u0275prd"](512,null,s.NestedOptionHost,s.NestedOptionHost,[]),a["\u0275did"](53,7323648,null,0,c.DxButtonComponent,[a.ElementRef,a.NgZone,l.DxTemplateHost,r.WatcherHelper,s.NestedOptionHost,d.TransferState,a.PLATFORM_ID],{icon:[0,"icon"],text:[1,"text"],type:[2,"type"]},null)],(function(t,e){var n=e.component,a=t(e,5,0,"undefined"==n.statusCartao,"error"==n.statusCartao,"encontrado"==n.statusCartao,"vinculado"==n.statusCartao);t(e,4,0,"fas fa-id-card fa-10x cursor",a);var o=t(e,9,0,"error"!==n.statusCartao);t(e,8,0,"message-error",o);var i=t(e,14,0,"encontrado"!==n.statusCartao);t(e,13,0,"message-success",i);var l=t(e,19,0,"vinculado"!==n.statusCartao);t(e,18,0,"message-warning",l),t(e,21,0,n.idCard===n.cartaoAtual),t(e,23,0,n.idCard!==n.cartaoAtual),t(e,53,0,"fas fa-address-card","Ler cart\xe3o","default")}),(function(t,e){var n=e.component;t(e,10,0,n.errorMessage),t(e,25,0,n.aditionalMessage),t(e,29,0,n.idCard),t(e,33,0,n.recinto),t(e,37,0,n.validade),t(e,41,0,n.crcA),t(e,45,0,n.crcB),t(e,47,0,n.outroRecintoMessage)}))}function C(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,b)),a["\u0275did"](1,16384,null,0,u.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,e.component.templateName)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-ler-cartao-view-component",[],null,null,null,C,v)),a["\u0275did"](1,245760,null,0,p.a,[m.a,h.a,_.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-ler-cartao-view-component",p.a,O,{},{},[])},tHs3:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("D57K"),o=n("v+24"),i=n("o/uR"),l=n("R/GS"),r=n("vE43"),s=n("IvV6"),c=n("qHyl");let d=(()=>{class t extends c.a{constructor(t,e,n){super(e,i.a.AREA_FORM),this._cacessoService=t,this._injector=e,this._recintoService=n,this.editMode=!1,this.title="Cadastro de \xc1rea",this.dataModel=new l.a,this.selectedItemClass=Object}ngAfterViewInit(){super.ngAfterViewInit()}pessoaSearchCall(){return new r.a({params:{ativo:1,tipo_pessoa_id:1}},this._recintoService,this._recintoService.getPessoa)}}return a.__decorate([Object(s.c)(),a.__metadata("design:type",o.a)],t.prototype,"pessoaSearch",void 0),t})()},tgDP:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("kZht"),o=n("Fq3N"),i=n("1L3/"),l=n("1VvW"),r=n("qO5a"),s=n("FIOi"),c=n("t13C"),d=n("0h//"),u=n("BbT4"),p=n("uYo5"),m=n("zhvJ"),h=n("xujP"),_=n("2U9Q"),f=n("J6U6"),v=n("zMsH"),g=n("E8iS"),x=n("6ywV"),b=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{popup:0}),a["\u0275qud"](402653184,2,{formComponent:0}),(t()(),a["\u0275eld"](2,0,null,null,6,"app-popup-form",[["height","auto"],["width","50%"]],null,null,null,o.c,o.b)),a["\u0275did"](3,4440064,[[1,4],["popup",4]],1,i.a,[l.a,r.a,s.a,l.p],{height:[0,"height"],width:[1,"width"]},null),a["\u0275qud"](335544320,3,{formComponent:0}),(t()(),a["\u0275eld"](5,0,null,0,3,"app-form",[],null,null,null,c.c,c.b)),a["\u0275did"](6,5488640,[[3,4],[2,4],["formComponent",4]],2,d.a,[u.a,p.a,a.ChangeDetectorRef,a.NgZone,l.a,m.a,a.ComponentFactoryResolver,r.a,s.a,h.a],{popup:[0,"popup"],contextName:[1,"contextName"],controlPopupBehaviour:[2,"controlPopupBehaviour"]},null),a["\u0275qud"](603979776,4,{formItems:1}),a["\u0275qud"](335544320,5,{formModel:0})],(function(t,e){var n=e.component;t(e,3,0,"auto","50%"),t(e,6,0,!0,n.context,!0)}),null)}function O(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"app-entrada-manual-pessoa-form-component",[],null,null,null,C,b)),a["\u0275did"](1,4440064,null,0,_.a,[r.a,f.a,m.a,v.a,g.a,x.a],null,null)],(function(t,e){t(e,1,0)}),null)}var S=a["\u0275ccf"]("app-entrada-manual-pessoa-form-component",_.a,O,{context:"context"},{},[])},uaf9:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r"),r=n("bPlT"),s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,5,"div",[["class","icon"]],null,null,null,null,null)),(t()(),a["\u0275eld"](2,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](4,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](5,{"has-text-grey-dark":0,"is-success":1,"is-danger":2}),(t()(),a["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-id-card fa-2x"],["title","Valida\xe7\xe3o cart\xe3o"]],null,null,null,null,null))],(function(t,e){var n=t(e,5,0," "==e.context.$implicit.data.card_ok,"s"==e.context.$implicit.data.card_ok,"n"==e.context.$implicit.data.card_ok);t(e,4,0,"tag is-full",n)}),null)}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"cartao")}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,d,s)),a["\u0275did"](1,49152,null,0,r.a,[],null,null)],null,null)}var p=a["\u0275ccf"]("ng-component",r.a,u,{},{},[])},vE7y:function(t,e,n){"use strict";var a=n("kZht"),o=n("An66"),i=n("vidM"),l=n("Du4r");class r{constructor(){}ngOnInit(){}}n.d(e,"a",(function(){return p}));var s=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,5,"div",[["class","is-fullwidth"]],null,null,null,null,null)),(t()(),a["\u0275eld"](2,0,null,null,4,"span",[["class","tag is-full"]],null,null,null,null,null)),a["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2]),a["\u0275did"](4,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](5,{"is-success":0,"is-danger":1}),(t()(),a["\u0275ted"](6,null,[" "," "]))],(function(t,e){var n=t(e,5,0,"Online"==e.context.$implicit.data.conectado,"Offline"==e.context.$implicit.data.conectado);t(e,4,0,"tag is-full",n)}),(function(t,e){t(e,6,0,e.context.$implicit.data.conectado)}))}function d(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,c)),a["\u0275did"](1,16384,null,0,i.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,l.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"teste")}),null)}function u(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,d,s)),a["\u0275did"](1,114688,null,0,r,[],null,null)],(function(t,e){t(e,1,0)}),null)}var p=a["\u0275ccf"]("ng-component",r,u,{},{},[])},vQx9:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n("D57K"),o=n("kZht"),i=n("P4Xx"),l=n("3DLZ"),r=n("bRem"),s=n("o/uR"),c=n("7ZdP"),d=n("IvV6"),u=n("nhxO"),p=n("AytR"),m=n("qWPx");let h=(()=>{class t{constructor(t,e,n,a,i,d,u,p){this._cacessoService=t,this._cartaoService=e,this._cartaoHelper=n,this._customComponentService=a,this._formService=i,this._messageService=d,this._popupService=u,this._route=p,this.title="Cadastro de Cart\xe3o",this.editMode=!1,this.dataModel=new r.a({}),this.tipos=[],this.saveFormAction=new o.EventEmitter,this.categoriaChanged=t=>{this._cartaoService.getCartaoTipo({categoria_id:t.value},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("tipo_id",{dataSource:t})})},this.items=[l.a.Group("",[l.a.Group("",[l.a.TextBox({dataField:"identificador",colSpan:6,editorOptions:{disabled:!0,maxLength:10}}),l.a.EmptyBox(6),l.a.SelectBox({dataField:"categoria_id",colSpan:6,editorOptions:{displayExpr:"descricao",valueExpr:"categoria_id",elementAttr:{id:"categoria-cartao-form"},onValueChanged:this.categoriaChanged}}),l.a.TextBox({dataField:"recinto",colSpan:6,editorOptions:{disabled:!0,maxLength:10}}),l.a.SelectBox({dataField:"situacao_id",colSpan:6,editorOptions:{displayExpr:"descricao",placeholder:"",valueExpr:"situacao_id",disabled:!0,elementAttr:{id:"situacao-cartao-form"}}}),l.a.DateBox({dataField:"data_ativacao",colSpan:3,editorOptions:{type:"datetime",disabled:!0,dysplayFormat:"dd/MM/yyyy hh:mm:ss",maxLength:16,width:"100%",useMaskBehavior:!0}}),l.a.DateBox({dataField:"data_cancelamento",colSpan:3,editorOptions:{type:"datetime",disabled:!0,dysplayFormat:"dd/MM/yyyy hh:mm:ss",maxLength:16,width:"100%",useMaskBehavior:!0}}),l.a.SelectBox({dataField:"tipo_id",colSpan:6,editorOptions:{disabled:!0,displayExpr:"descricao",valueExpr:"tipo_id",elementAttr:{id:"tipo-cartao-form"}}}),l.a.DateBox({dataField:"data_validade",colSpan:3,editorOptions:{type:"datetime",disabled:!0,dysplayFormat:"dd/MM/yyyy hh:mm:ss",maxLength:16,useMaskBehavior:!0,width:"100%"}}),l.a.EmptyBox(3),l.a.SelectBox({dataField:"cod_acesso",colSpan:6,editorOptions:{valueExpr:"descricao",displayExpr:"descricao",dataSource:(new m.a).getCodigosAcesso()}}),l.a.EmptyBox(6),l.a.TextBox({dataField:"pessoa.nome",colSpan:12,label:{text:"Vinculado \xe0"},editorOptions:{maxLength:50,disabled:!0}}),l.a.TextArea({dataField:"observacao",colSpan:12,editorOptions:{maxLength:200}}),l.a.CheckBox({dataField:"ativo",colSpan:4,editorOptions:{text:"Ativo?",disabled:!0,value:!1},label:{visible:!1}})],12,10),l.a.Group("",[l.a.Template("dadosCartaoTemplate",c.a,null,{dataModel:this.dataModel})],2,2)])],this._formService.formContext[s.a.CARTAO_FORM]=this,this.context=s.a.CARTAO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){}ngOnDestroy(){}popupShow(){Object.assign(this.formComponent.dataModel,{ativo:!1}),this.dadosCartaoTemplate.dataModel=new r.a,this.dadosCartaoTemplate.cartao=new r.a,Object(i.a)([this._cartaoService.getCartaoSituacao({ativo:1}),this._cartaoService.getCartaoCategoria({ativo:1},{resultset:!0})]).subscribe(t=>{this.formComponent.setFieldOption("situacao_id",{dataSource:t[0].cartao_situacao}),this.formComponent.setFieldOption("categoria_id",{dataSource:t[1]})})}start(t){const e=t.params;this.dadosLeituraCartao=null,e&&e.cartao_id?(this.formComponent.editMode=!0,this._cartaoService.getCartao({cartao_id:e.cartao_id},!0).subscribe(t=>{Object.assign(this.formComponent.dataModel,t),this._customComponentService.customComponentContext.dadosCartaoViewComponent.dataModel=t;const e=t.getGravacao();this._customComponentService.customComponentContext.dadosCartaoViewComponent.gravacao=e})):(this.formComponent.editMode=!1,this._customComponentService.customComponentContext.dadosCartaoViewComponent.gravacao=[],e.readCard&&this.dadosCartaoTemplate.lerCartao())}submitForm(t){const e=u.a.clone(this.formComponent.dataModel);this.dadosLeituraCartao?(e.setGravacao(this.dadosLeituraCartao),"0000000"===this.dadosLeituraCartao.recintoEmissor.padStart(7,"0")?this.dadosCartaoTemplate.vincularRecinto(this.dadosLeituraCartao):this.saveFormAction.emit(e)):this.saveFormAction.emit(e)}cartaoReadyAction(t){Object.assign(t.ev,{recinto:p.a.codRecinto}),Object.assign(this.dadosLeituraCartao,{recintoEmissor:p.a.codRecinto}),t.ev.setGravacao(this.dadosLeituraCartao),this.saveFormAction.emit(t.ev)}cartaoReadAction(t){this.dadosLeituraCartao=t.ev;let e=!1;e=t.ev.recintoEmissor!==p.a.codRecinto&&"0000000"!==t.ev.recintoEmissor,this._cartaoService.getCartaoCategoria({ativo:1,permite_outro_recinto:e},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("categoria_id",{dataSource:t})}),this._cartaoService.getCartao({identificador:t.ev.idCard},!0).subscribe(e=>{if(e){const n=e.getGravacao();this._customComponentService.customComponentContext.dadosCartaoViewComponent.gravacao=n,this._messageService.notify("Cart\xe3o j\xe1 est\xe1 cadastrado no sistema","info","cartao.form 152",e,5e3),this.formComponent.editMode=!0,Object.assign(this.formComponent.dataModel,e,{recinto:t.ev.recintoEmissor})}else this.formComponent.editMode=!1,Object.assign(this.formComponent.dataModel,{identificador:t.ev.idCard,recinto:t.ev.recintoEmissor})})}}return a.__decorate([Object(d.d)("dadosCartaoTemplate"),a.__metadata("design:type",c.a)],t.prototype,"dadosCartaoTemplate",void 0),a.__decorate([Object(d.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"popupShow",null),a.__decorate([Object(d.e)("popup","showAction",!0),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(d.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"submitForm",null),a.__decorate([Object(d.e)("formComponent","cartaoReadyAction",!1,{arrayProperty:{key:"componentInstance",index:0}}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cartaoReadyAction",null),a.__decorate([Object(d.e)("formComponent","cartaoReadAction",!1,{arrayProperty:{key:"componentInstance",index:0}}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"cartaoReadAction",null),t})()},veZt:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{constructor(){}ngOnInit(){}}},w172:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("kZht"),o=n("mKV9");n("ZoiP");class i extends o.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.editarAction=new a.EventEmitter,this.excluirAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this._customComponentService.customComponentContext.pontoView=this,this.setAcao(["CACESSO_EDITAR_PONTO","CACESSO_EXCLUIR_PONTO","CACESSO_STATUS_PONTO"])}editar(t){this.editarAction.emit(t)}excluir(t){this.excluirAction.emit(t)}openLog(t){this.openLogAction.emit(t)}ativar(t){this.ativarAction.emit(t)}inativar(t){this.inativarAction.emit(t)}}},wRbP:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("J6U6");var a=n("w+uw"),o=n.n(a),i=n("9zi2"),l=(n("qO5a"),n("/caa")),r=n("QSHt");class s extends l.a{constructor(t,e,n){super(t),this.factoryResolver=t,this.cacessoService=e,this._formsService=n,this.visible=!1,this.dataModel=new r.a,this.webUrl=""}set bloqueio_pv_id(t){this.logTitle="Log - Motorista e Ve\xedculos Bloqueados",this._bloqueio_pv_id=t,this._bloqueio_pv_id?(this.visible=!0,this.getDataSource().subscribe(t=>{this.dataSource=t})):this.visible=!1}get bloqueio_pv_id(){return this._bloqueio_pv_id}getColumns(){return[i.a.numberColumn("log_id",!1,"Log ID"),i.a.numberColumn("bloqueio_pv_id",!1,"Bloqueio PEV ID"),i.a.datetimeColumn("date_insert",!0,"Inserido em",120),i.a.textColumn("user_insert",!0,"Usu\xe1rio",150),i.a.textColumn("descricao",!0,"Descri\xe7\xe3o"),i.a.textColumn("evento_abreviatura",!0,"Evento"),i.a.numberColumn("evento_id",!1,"Evento ID"),i.a.textColumn("origem",!1)]}getDataSource(){return this.cacessoService.getLogArea({bloqueio_pv_id:this.bloqueio_pv_id})}insLog(t){this.cacessoService.insOcorrenciaManual({descricao:"Ocorr\xeancia manual (Origem: Motorista e Ve\xedculos Bloqueados, ID: "+this.bloqueio_pv_id+"): "+t.data.descricao,origem:"area",id:this.bloqueio_pv_id,evento_id:null,macro:"CONTROLE DE ACESSO"}).subscribe(t=>{o()({message:t.mensagem,type:"success",displayTime:5e3,closeOnClick:!0}),this.refreshGrid()})}}},xREb:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("kZht"),o=n("aoCN"),i=n("Du4r"),l=n("ZDzY"),r=n("qV/d"),s=n("oqia"),c=n("ENSU"),d=n("vidM"),u=n("w172"),p=n("ZoiP"),m=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,25,"div",[["class","app-options"]],null,null,null,null,null)),(t()(),a["\u0275eld"](1,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Editar"],["icon","fa fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.editar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](5,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](6,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ver Logs"],["icon","fas fa-file"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.openLog(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](10,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{hint:[0,"hint"],icon:[1,"icon"]},null),(t()(),a["\u0275eld"](11,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Excluir"],["icon","fas fa-trash-alt"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.excluir(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](15,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](16,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Ativar"],["icon","fas fa-check"],["name","ativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.ativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](20,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null),(t()(),a["\u0275eld"](21,0,null,null,4,"dx-button",[["class","grid-options-button"],["hint","Inativar"],["icon","fas fa-times"],["name","inativar"]],null,[[null,"click"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==t.component.inativar(t.context.$implicit.data)&&a),a}),o.b,o.a)),a["\u0275prd"](512,null,i.DxTemplateHost,i.DxTemplateHost,[]),a["\u0275prd"](512,null,l.WatcherHelper,l.WatcherHelper,[]),a["\u0275prd"](512,null,r.NestedOptionHost,r.NestedOptionHost,[]),a["\u0275did"](25,7323648,null,0,s.DxButtonComponent,[a.ElementRef,a.NgZone,i.DxTemplateHost,l.WatcherHelper,r.NestedOptionHost,c.TransferState,a.PLATFORM_ID],{disabled:[0,"disabled"],hint:[1,"hint"],icon:[2,"icon"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.ACAO.CACESSO_EDITAR_PONTO,"Editar","fa fa-pencil-alt"),t(e,10,0,"Ver Logs","fas fa-file"),t(e,15,0,!n.ACAO.CACESSO_EXCLUIR_PONTO,"Excluir","fas fa-trash-alt"),t(e,20,0,e.context.$implicit.data.ativo||!n.ACAO.CACESSO_STATUS_PONTO,"Ativar","fas fa-check"),t(e,25,0,!e.context.$implicit.data.ativo||!n.ACAO.CACESSO_STATUS_PONTO,"Inativar","fas fa-times")}),null)}function _(t){return a["\u0275vid"](0,[(t()(),a["\u0275and"](16777216,null,null,1,null,h)),a["\u0275did"](1,16384,null,0,d.DxTemplateDirective,[a.TemplateRef,a.ViewContainerRef,i.DxTemplateHost,a.Renderer2,a.NgZone],{dxTemplateOf:[0,"dxTemplateOf"]},null)],(function(t,e){t(e,1,0,"optionsTemplate")}),null)}function f(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,_,m)),a["\u0275did"](1,49152,null,0,u.a,[p.a,a.Injector],null,null)],null,null)}var v=a["\u0275ccf"]("ng-component",u.a,f,{},{},[])},"y6+E":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},yR9p:function(t,e,n){"use strict";var a=n("D57K"),o=n("kZht"),i=n("3DLZ"),l=n("o/uR"),r=n("nhxO"),s=n("b7PS"),c=n("ixXO");let d=(()=>{class t extends r.a{constructor(t={}){super(),this._recolhe=!0,this._outro_recinto=!1,Object.assign(this,t)}get tipo_id(){return this._tipo_id}get descricao(){return this._descricao}get recolhe(){return this._recolhe}get dias(){return this._dias}get outro_recinto(){return this._outro_recinto}get observacao(){return this._observacao}set tipo_id(t){this._tipo_id=t}set descricao(t){this._descricao=t}set recolhe(t){this._recolhe=t}set dias(t){this._dias=t}set outro_recinto(t){this._outro_recinto=t}set observacao(t){this._observacao=t}getList(e){return e.map(e=>new t(e))}}return a.__decorate([Object(s.b)("ID"),a.__metadata("design:type",Number),a.__metadata("design:paramtypes",[Number])],t.prototype,"tipo_id",null),a.__decorate([Object(s.b)("Descri\xe7\xe3o"),Object(c.c)(!0,"Descri\xe7\xe3o \xe9 obrigat\xf3rio"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"descricao",null),a.__decorate([Object(s.b)("Recolhe"),a.__metadata("design:type",Boolean),a.__metadata("design:paramtypes",[Boolean])],t.prototype,"recolhe",null),a.__decorate([Object(s.b)("Dias"),Object(c.d)({type:"range",max:366,min:1,message:"Maximo de 366 dias"}),Object(c.c)(!0,"Qtde de dias \xe9 obrigat\xf3rio"),a.__metadata("design:type",Number),a.__metadata("design:paramtypes",[Number])],t.prototype,"dias",null),a.__decorate([Object(s.b)("Permite Outro Recinto"),a.__metadata("design:type",Boolean),a.__metadata("design:paramtypes",[Boolean])],t.prototype,"outro_recinto",null),a.__decorate([Object(s.b)("Observa\xe7\xe3o"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[String])],t.prototype,"observacao",null),t})();var u=n("IvV6");n.d(e,"a",(function(){return p}));let p=(()=>{class t{constructor(t,e){this._formService=t,this._cartaoService=e,this.editMode=!1,this.title="Cadastro de Tipo de Cart\xe3o",this.dataModel=new d,this.categorias=new Array,this.saveDataAction=new o.EventEmitter,this.categoriaTagChanged=t=>{t.value.map(t=>{this._categoriaExists(t)||this.categorias.push({categoria_id:t,operation:"INSERT"})}),this.categorias=this.categorias.map(e=>(t.value.indexOf(e.categoria_id)<0&&Object.assign(e,{operation:"DELETE"}),e)),this.categorias=this.categorias.filter(t=>"DELETE"!==t.operation||"DELETE"===t.operation&&"categoria_id"in t)},this.items=[i.a.Group("",[i.a.TextBox({dataField:"descricao"}),i.a.NumberBox({dataField:"dias",colSpan:2,editorOptions:{}}),i.a.EmptyBox(10),i.a.TagBox({dataField:"categorias",label:{text:"Categorias"},editorOptions:{dataSource:[],displayExpr:"descricao",valueExpr:"categoria_id",onValueChanged:this.categoriaTagChanged}}),i.a.TextArea({dataField:"observacao",editorOptions:{maxLength:200}}),i.a.CheckBox({dataField:"recolhe",editorOptions:{text:"Recolhe"},label:{visible:!1}}),i.a.CheckBox({dataField:"outro_recinto",editorOptions:{text:"Permite Outro Recinto"},label:{visible:!1}}),i.a.CheckBox({dataField:"ativo",editorOptions:{text:"Ativo",disabled:!0},label:{visible:!1}})])],this._formService.formContext[l.a.CARTAO_TIPO_FORM]=this,this.context=l.a.CARTAO_TIPO_FORM}ngOnInit(){this.popup.title=this.title}ngAfterViewInit(){this._cartaoService.getCartaoCategoria({ativo:1},{resultset:!0}).subscribe(t=>{this.formComponent.setFieldOption("categorias",{dataSource:t})})}ngOnDestroy(){}start(t){t.params?t.params.tipo_id&&(this.editMode=!0,this.formComponent.editMode=!0,this._cartaoService.getCartaoTipo({tipo_id:t.params.tipo_id},{form:!0}).subscribe(t=>{if(t&&(Object.assign(this.formComponent.dataModel,t),t.cartao_tipo_categoria)){this.categorias=t.cartao_tipo_categoria;const e=t.cartao_tipo_categoria.map(t=>t.categoria_id);this.formComponent.setFieldOption("categorias",{value:e})}})):(this.editMode=!1,this.formComponent.editMode=!1)}saveAction(){const t=r.a.clone(this.formComponent.dataModel);Object.assign(t,{tipo_categoria:this.categorias}),this.saveDataAction.emit({dataModel:t,editMode:this.formComponent.editMode})}_categoriaExists(t){return this.categorias.some(e=>e.categoria_id===t)}}return a.__decorate([Object(u.e)("popup","showAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],t.prototype,"start",null),a.__decorate([Object(u.e)("formComponent","submitAction"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],t.prototype,"saveAction",null),t})()},yglO:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("kZht"),o=n("bJFq"),i=(n("ZoiP"),n("mKV9"));class l extends i.a{constructor(t,e){super(e),this._customComponentService=t,this._injector=e,this.excluirAction=new a.EventEmitter,this.editarAction=new a.EventEmitter,this.ativarAction=new a.EventEmitter,this.inativarAction=new a.EventEmitter,this.vincularCartaoAction=new a.EventEmitter,this.openLogAction=new a.EventEmitter,this.biometriaAction=new a.EventEmitter,this.documentoAction=new a.EventEmitter,this.cameraAction=new a.EventEmitter,this.autoridadeAction=new a.EventEmitter,this.imprimirTagAction=new a.EventEmitter,this._customComponentService.customComponentContext.pessoaCaViewOptions=this,this.setAcao(["CACESSO_EDITAR_PESSOA","CACESSO_EXCLUIR_PESSOA","CACESSO_STATUS_PESSOA","CACESSO_BIOMETRIA_PESSOA","CACESSO_FOTO_PESSOA","CACESSO_DOCUMENTO_PESSOA","CACESSO_CARTAO_PESSOA","CACESSO_AUTORIDADE_PESSOA"])}editar(t){this.editarAction.emit(t)}openLog(t){this.openLogAction.emit(t)}excluir(t){Object(o.confirm)(`Voc\xea tem certeza que deseja remover a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.excluirAction.emit(t)})}ativar(t){Object(o.confirm)(`Voc\xea tem certeza que deseja ativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.ativarAction.emit(t)})}inativar(t){Object(o.confirm)(`Voc\xea tem certeza que deseja inativar a pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.inativarAction.emit(t)})}biometria(t){this.biometriaAction.emit(t)}vincularCartao(t){this.vincularCartaoAction.emit(t)}documento(t){this.documentoAction.emit(t)}imagem(t){this.cameraAction.emit(t)}autoridade(t){Object(o.confirm)(`Voc\xea tem certeza que deseja ${t.autoridade?"remover":"adicionar"} autoridade da pessoa ${t.nome}?`,"Confirma\xe7\xe3o").then(e=>{e&&this.autoridadeAction.emit(t)})}imprimirTag(t){this.imprimirTagAction.emit(t)}}},z2Vc:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{}},zDiY:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n("BbT4");var a=n("YtkY");class o{constructor(t){this._appService=t}cad(t={},e){return this._appService.backendCall(this._appService.modules.gestao_cadastro,"cadVeiculoTipo",t,e)}getVeiculoTipo(t={},e){return this._appService.backendCall(this._appService.modules.gestao_cadastro,"getVeiculoTipo",t,null,e)}getLog(t){return this._appService.backendCall(this._appService.modules.gestao_cadastro,"getLog",{tableop:"recinto_log.v$veiculo_tipo",tablelog:"recinto_log.v$log",fieldkey:"veiculo_tipo_id",fieldvalue:t.fieldvalue?t.fieldvalue:null}).pipe(Object(a.a)(t=>t.log))}}},zahA:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("D57K"),o=n("b7PS"),i=n("ixXO"),l=n("nhxO");let r=(()=>{class t extends l.a{constructor(t={}){super(),Object.assign(this,t)}getList(e){const n=new Array;return e.forEach(e=>{n.push(new t(e))}),n}get saida_manual_id(){return this._saida_manual_id}get pessoa_search(){return this._pessoa_search}get pev_search(){return this._pev_search}get pessoa_id(){return this._pessoa_id}get ponto_id(){return this._ponto_id}get identificador(){return this._identificador}get placa_veiculo(){return this._placa_veiculo}get data_ocorrencia(){return this._data_ocorrencia}get observacao(){return this._observacao}get equipamento_id(){return this._equipamento_id}set saida_manual_id(t){this._saida_manual_id=t}set equipamento_id(t){this._equipamento_id=t}set pessoa_search(t){this._pessoa_search=t}set pev_search(t){this._pev_search=t}set pessoa_id(t){this._pessoa_id=t}set identificador(t){this._identificador=t}set ponto_id(t){this._ponto_id=t}set placa_veiculo(t){this._placa_veiculo=t}set data_ocorrencia(t){this._data_ocorrencia=t}set observacao(t){this._observacao=t}}return a.__decorate([Object(o.b)("ID"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"saida_manual_id",null),a.__decorate([Object(o.b)("Pessoa"),Object(i.c)(!0,"Pessoa \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_search",null),a.__decorate([Object(o.b)("PEV"),Object(i.c)(!0,"PEV \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pev_search",null),a.__decorate([Object(o.b)(""),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"pessoa_id",null),a.__decorate([Object(o.b)("Ponto"),Object(i.c)(!0,"Ponto \xe9 obrigat\xf3rio"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"ponto_id",null),a.__decorate([Object(o.b)("Identificador"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"identificador",null),a.__decorate([Object(o.b)("Placa"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"placa_veiculo",null),a.__decorate([Object(o.b)("Data de sa\xedda"),Object(i.c)(!0,"Data de sa\xedda \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"data_ocorrencia",null),a.__decorate([Object(o.b)("Observ\xe7\xf5es"),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"observacao",null),a.__decorate([Object(o.b)("Passagem de sa\xedda"),Object(i.c)(!0,"Passagem de sa\xedda \xe9 obrigat\xf3rio."),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],t.prototype,"equipamento_id",null),t})()}}]);