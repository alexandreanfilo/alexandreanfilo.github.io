select count(x.:count_field) as total
  from (:query
       ) x